{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import step1 from\"../../../../assets/images/steps_1.svg\";import step3 from\"../../../../assets/images/steps_2.svg\";import step2 from\"../../../../assets/images/steps_3.svg\";import\"./style.scss\";import{APPROVE_STATUS_TEXT}from\"../../../../constant/approveLoadingModal\";import MarketplaceButton from\"../../MarketplaceButton\";import Modal from\"storybook/atom/Modal/modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ApproveLoadingModal=function ApproveLoadingModal(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,isApproved=_ref.isApproved,status=_ref.status,onNextStep=_ref.onNextStep;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDisabledNextStep=_useState2[0],setIsDisabledNextStep=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDisabledCancel=_useState4[0],setIsDisabledCancel=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),buttonText=_useState6[0],setButtonText=_useState6[1];var _useState7=useState(step1),_useState8=_slicedToArray(_useState7,2),loadingImage=_useState8[0],setLoadingImage=_useState8[1];var handleNextStep=function handleNextStep(){onNextStep();setIsDisabledNextStep(true);setIsDisabledCancel(true);setButtonText(APPROVE_STATUS_TEXT[status].loadingButton);setLoadingImage(step3);};useEffect(function(){setIsDisabledNextStep(!isApproved);setButtonText(isApproved?APPROVE_STATUS_TEXT[status].button:\"Approving\");setLoadingImage(isApproved?step2:step1);},[isApproved]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsx(Modal,{isModalOpen:isOpen,className:\"approveLoadingModal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"approveModal__image \\n                \".concat(isApproved?\"approveModal__image--isApproved\":\"\",\"\\n                \").concat(!isDisabledNextStep?\"approveModal__image--noSpinner\":\"\",\"\\n                \"),children:/*#__PURE__*/_jsx(\"img\",{src:loadingImage,alt:\"waiting for approve\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__container \".concat(!isDisabledNextStep?\"approveModal__container--blurred\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal__text\",children:APPROVE_STATUS_TEXT[status].firstTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"modal__text modal__text--small\",children:APPROVE_STATUS_TEXT[status].firstText})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"modal__text\",children:APPROVE_STATUS_TEXT[status].secondTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"modal__text modal__text--small\",children:APPROVE_STATUS_TEXT[status].secondText})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__buttons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"approveModal__buttons--note \".concat(!isDisabledNextStep?\"approveModal__buttons--note__visible\":\"\"),children:[\"Click to \",buttonText]}),/*#__PURE__*/_jsx(MarketplaceButton,{isNormal:true,title:\"Cancel\",onClick:onClose,disabled:isDisabledCancel}),/*#__PURE__*/_jsx(MarketplaceButton,{title:buttonText,onClick:handleNextStep,isBlue:true,disabled:isDisabledNextStep,isAnimated:!isDisabledNextStep})]})]})});};export default ApproveLoadingModal;","map":{"version":3,"names":["React","useState","useEffect","step1","step3","step2","APPROVE_STATUS_TEXT","MarketplaceButton","Modal","jsx","_jsx","jsxs","_jsxs","ApproveLoadingModal","_ref","isOpen","onClose","isApproved","status","onNextStep","_useState","_useState2","_slicedToArray","isDisabledNextStep","setIsDisabledNextStep","_useState3","_useState4","isDisabledCancel","setIsDisabledCancel","_useState5","_useState6","buttonText","setButtonText","_useState7","_useState8","loadingImage","setLoadingImage","handleNextStep","loadingButton","button","isModalOpen","className","children","concat","src","alt","firstTitle","firstText","secondTitle","secondText","isNormal","title","onClick","disabled","isBlue","isAnimated"],"sources":["/Users/apple/Documents/treasure/src/components/common/Modals/ApproveLoadingModal/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport step1 from \"../../../../assets/images/steps_1.svg\";\nimport step3 from \"../../../../assets/images/steps_2.svg\";\nimport step2 from \"../../../../assets/images/steps_3.svg\";\nimport \"./style.scss\";\nimport { APPROVE_STATUS_TEXT } from \"../../../../constant/approveLoadingModal\";\nimport MarketplaceButton from \"../../MarketplaceButton\";\nimport Modal from \"storybook/atom/Modal/modal\";\n\nconst ApproveLoadingModal = ({\n  isOpen,\n  onClose,\n  isApproved,\n  status,\n  onNextStep,\n}) => {\n  const [isDisabledNextStep, setIsDisabledNextStep] = useState(true);\n  const [isDisabledCancel, setIsDisabledCancel] = useState(false);\n  const [buttonText, setButtonText] = useState(\"\");\n  const [loadingImage, setLoadingImage] = useState(step1);\n\n  const handleNextStep = () => {\n    onNextStep();\n    setIsDisabledNextStep(true);\n    setIsDisabledCancel(true);\n    setButtonText(APPROVE_STATUS_TEXT[status].loadingButton);\n    setLoadingImage(step3);\n  };\n\n  useEffect(() => {\n    setIsDisabledNextStep(!isApproved);\n    setButtonText(\n      isApproved ? APPROVE_STATUS_TEXT[status].button : \"Approving\"\n    );\n    setLoadingImage(isApproved ? step2 : step1);\n  }, [isApproved]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Modal isModalOpen={isOpen} className=\"approveLoadingModal\">\n      <div className=\"approveModal__background\">\n        <div\n          className={`approveModal__image \n                ${isApproved ? \"approveModal__image--isApproved\" : \"\"}\n                ${!isDisabledNextStep ? \"approveModal__image--noSpinner\" : \"\"}\n                `}\n        >\n          <img src={loadingImage} alt={\"waiting for approve\"} />\n        </div>\n\n        <div\n          className={`approveModal__container ${\n            !isDisabledNextStep ? \"approveModal__container--blurred\" : \"\"\n          }`}\n        >\n          <div className={\"approveModal__info\"}>\n            <p className={\"modal__text\"}>\n              {APPROVE_STATUS_TEXT[status].firstTitle}\n            </p>\n            <p className={\"modal__text modal__text--small\"}>\n              {APPROVE_STATUS_TEXT[status].firstText}\n            </p>\n          </div>\n\n          <div className=\"approveModal__info\">\n            <p className={\"modal__text\"}>\n              {APPROVE_STATUS_TEXT[status].secondTitle}\n            </p>\n            <p className={\"modal__text modal__text--small\"}>\n              {APPROVE_STATUS_TEXT[status].secondText}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"approveModal__buttons\">\n          <div\n            className={`approveModal__buttons--note ${\n              !isDisabledNextStep ? \"approveModal__buttons--note__visible\" : \"\"\n            }`}\n          >\n            Click to {buttonText}\n          </div>\n\n          <MarketplaceButton\n            isNormal\n            title={\"Cancel\"}\n            onClick={onClose}\n            disabled={isDisabledCancel}\n          />\n          <MarketplaceButton\n            title={buttonText}\n            onClick={handleNextStep}\n            isBlue\n            disabled={isDisabledNextStep}\n            isAnimated={!isDisabledNextStep}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ApproveLoadingModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}