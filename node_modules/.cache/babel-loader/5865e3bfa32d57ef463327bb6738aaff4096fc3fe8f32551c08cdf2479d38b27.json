{"ast":null,"code":"import 'node-forge/lib/aes.js';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nexport function createCipheriv(mode, key, iv) {\n  var cipher2 = forge.cipher.createCipher('AES-CTR', uint8ArrayToString(key, 'ascii'));\n  cipher2.start({\n    iv: uint8ArrayToString(iv, 'ascii')\n  });\n  return {\n    update: function update(data) {\n      cipher2.update(forge.util.createBuffer(uint8ArrayToString(data, 'ascii')));\n      return uint8ArrayFromString(cipher2.output.getBytes(), 'ascii');\n    }\n  };\n}\nexport function createDecipheriv(mode, key, iv) {\n  var cipher2 = forge.cipher.createDecipher('AES-CTR', uint8ArrayToString(key, 'ascii'));\n  cipher2.start({\n    iv: uint8ArrayToString(iv, 'ascii')\n  });\n  return {\n    update: function update(data) {\n      cipher2.update(forge.util.createBuffer(uint8ArrayToString(data, 'ascii')));\n      return uint8ArrayFromString(cipher2.output.getBytes(), 'ascii');\n    }\n  };\n}","map":{"version":3,"names":["forge","toString","uint8ArrayToString","fromString","uint8ArrayFromString","createCipheriv","mode","key","iv","cipher2","cipher","createCipher","start","update","data","util","createBuffer","output","getBytes","createDecipheriv","createDecipher"],"sources":["/Users/apple/Documents/treasure/node_modules/@libp2p/crypto/src/aes/ciphers-browser.ts"],"sourcesContent":["\nimport 'node-forge/lib/aes.js'\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\nexport function createCipheriv (mode: any, key: Uint8Array, iv: Uint8Array) {\n  const cipher2 = forge.cipher.createCipher('AES-CTR', uint8ArrayToString(key, 'ascii'))\n  cipher2.start({ iv: uint8ArrayToString(iv, 'ascii') })\n  return {\n    update: (data: Uint8Array) => {\n      cipher2.update(forge.util.createBuffer(uint8ArrayToString(data, 'ascii')))\n      return uint8ArrayFromString(cipher2.output.getBytes(), 'ascii')\n    }\n  }\n}\n\nexport function createDecipheriv (mode: any, key: Uint8Array, iv: Uint8Array) {\n  const cipher2 = forge.cipher.createDecipher('AES-CTR', uint8ArrayToString(key, 'ascii'))\n  cipher2.start({ iv: uint8ArrayToString(iv, 'ascii') })\n  return {\n    update: (data: Uint8Array) => {\n      cipher2.update(forge.util.createBuffer(uint8ArrayToString(data, 'ascii')))\n      return uint8ArrayFromString(cipher2.output.getBytes(), 'ascii')\n    }\n  }\n}\n"],"mappings":"AACA,OAAO,uBAAuB;AAC9B;AACA,OAAOA,KAAK,MAAM,yBAAyB;AAC3C,SAASC,QAAQ,IAAIC,kBAAkB,QAAQ,uBAAuB;AACtE,SAASC,UAAU,IAAIC,oBAAoB,QAAQ,yBAAyB;AAE5E,OAAM,SAAUC,cAAcA,CAAEC,IAAS,EAAEC,GAAe,EAAEC,EAAc;EACxE,IAAMC,OAAO,GAAGT,KAAK,CAACU,MAAM,CAACC,YAAY,CAAC,SAAS,EAAET,kBAAkB,CAACK,GAAG,EAAE,OAAO,CAAC,CAAC;EACtFE,OAAO,CAACG,KAAK,CAAC;IAAEJ,EAAE,EAAEN,kBAAkB,CAACM,EAAE,EAAE,OAAO;EAAC,CAAE,CAAC;EACtD,OAAO;IACLK,MAAM,EAAE,SAAAA,OAACC,IAAgB,EAAI;MAC3BL,OAAO,CAACI,MAAM,CAACb,KAAK,CAACe,IAAI,CAACC,YAAY,CAACd,kBAAkB,CAACY,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;MAC1E,OAAOV,oBAAoB,CAACK,OAAO,CAACQ,MAAM,CAACC,QAAQ,EAAE,EAAE,OAAO,CAAC;IACjE;GACD;AACH;AAEA,OAAM,SAAUC,gBAAgBA,CAAEb,IAAS,EAAEC,GAAe,EAAEC,EAAc;EAC1E,IAAMC,OAAO,GAAGT,KAAK,CAACU,MAAM,CAACU,cAAc,CAAC,SAAS,EAAElB,kBAAkB,CAACK,GAAG,EAAE,OAAO,CAAC,CAAC;EACxFE,OAAO,CAACG,KAAK,CAAC;IAAEJ,EAAE,EAAEN,kBAAkB,CAACM,EAAE,EAAE,OAAO;EAAC,CAAE,CAAC;EACtD,OAAO;IACLK,MAAM,EAAE,SAAAA,OAACC,IAAgB,EAAI;MAC3BL,OAAO,CAACI,MAAM,CAACb,KAAK,CAACe,IAAI,CAACC,YAAY,CAACd,kBAAkB,CAACY,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;MAC1E,OAAOV,oBAAoB,CAACK,OAAO,CAACQ,MAAM,CAACC,QAAQ,EAAE,EAAE,OAAO,CAAC;IACjE;GACD;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}