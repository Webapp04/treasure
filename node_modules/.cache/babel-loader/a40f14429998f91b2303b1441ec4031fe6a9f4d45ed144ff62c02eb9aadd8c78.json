{"ast":null,"code":"import _regeneratorRuntime from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _awaitAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _asyncIterator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option';\n\n/**\n * @param {object} config\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n */\nexport function createLocal(_ref) {\n  var repo = _ref.repo;\n  /**\n   * @type {import('ipfs-core-types/src/refs').API<{}>[\"local\"]}\n   */\n  function refsLocal() {\n    return _refsLocal.apply(this, arguments);\n  }\n  function _refsLocal() {\n    _refsLocal = _wrapAsyncGenerator(function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, cid;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _iteratorAbruptCompletion = false;\n              _didIteratorError = false;\n              _context.prev = 2;\n              _iterator = _asyncIterator(repo.blocks.queryKeys({}, {\n                signal: options.signal\n              }));\n            case 4:\n              _context.next = 6;\n              return _awaitAsyncGenerator(_iterator.next());\n            case 6:\n              if (!(_iteratorAbruptCompletion = !(_step = _context.sent).done)) {\n                _context.next = 13;\n                break;\n              }\n              cid = _step.value;\n              _context.next = 10;\n              return {\n                ref: cid.toString()\n              };\n            case 10:\n              _iteratorAbruptCompletion = false;\n              _context.next = 4;\n              break;\n            case 13:\n              _context.next = 19;\n              break;\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](2);\n              _didIteratorError = true;\n              _iteratorError = _context.t0;\n            case 19:\n              _context.prev = 19;\n              _context.prev = 20;\n              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                _context.next = 24;\n                break;\n              }\n              _context.next = 24;\n              return _awaitAsyncGenerator(_iterator.return());\n            case 24:\n              _context.prev = 24;\n              if (!_didIteratorError) {\n                _context.next = 27;\n                break;\n              }\n              throw _iteratorError;\n            case 27:\n              return _context.finish(24);\n            case 28:\n              return _context.finish(19);\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 15, 19, 29], [20,, 24, 28]]);\n      })();\n    });\n    return _refsLocal.apply(this, arguments);\n  }\n  return withTimeoutOption(refsLocal);\n}","map":{"version":3,"names":["withTimeoutOption","createLocal","_ref","repo","refsLocal","_refsLocal","apply","arguments","_wrapAsyncGenerator","options","length","undefined","_regeneratorRuntime","mark","_callee","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","cid","wrap","_callee$","_context","prev","next","_asyncIterator","blocks","queryKeys","signal","_awaitAsyncGenerator","sent","done","value","ref","toString","t0","return","finish","stop"],"sources":["/Users/apple/Documents/treasure/node_modules/ipfs-core/src/components/refs/local.js"],"sourcesContent":["import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\n\n/**\n * @param {object} config\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n */\nexport function createLocal ({ repo }) {\n  /**\n   * @type {import('ipfs-core-types/src/refs').API<{}>[\"local\"]}\n   */\n  async function * refsLocal (options = {}) {\n    for await (const cid of repo.blocks.queryKeys({}, { signal: options.signal })) {\n      yield { ref: cid.toString() }\n    }\n  }\n\n  return withTimeoutOption(refsLocal)\n}\n"],"mappings":";;;;AAAA,SAASA,iBAAiB,QAAQ,qCAAqC;;AAEvE;AACA;AACA;AACA;AACA,OAAO,SAASC,WAAWA,CAAAC,IAAA,EAAY;EAAA,IAARC,IAAI,GAAAD,IAAA,CAAJC,IAAI;EACjC;AACF;AACA;EAFE,SAGiBC,SAASA,CAAA;IAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,WAAA;IAAAA,UAAA,GAAAG,mBAAA,CAA1B;MAAA,IAA4BC,OAAO,GAAAF,SAAA,CAAAG,MAAA,QAAAH,SAAA,QAAAI,SAAA,GAAAJ,SAAA,MAAG,CAAC,CAAC;MAAA,oBAAAK,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,yBAAA,EAAAC,iBAAA,EAAAC,cAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,GAAA;QAAA,OAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAV,yBAAA;cAAAC,iBAAA;cAAAO,QAAA,CAAAC,IAAA;cAAAN,SAAA,GAAAQ,cAAA,CACdvB,IAAI,CAACwB,MAAM,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAAEC,MAAM,EAAEpB,OAAO,CAACoB;cAAO,CAAC,CAAC;YAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA,OAAAK,oBAAA,CAAAZ,SAAA,CAAAO,IAAA;YAAA;cAAA,MAAAV,yBAAA,KAAAI,KAAA,GAAAI,QAAA,CAAAQ,IAAA,EAAAC,IAAA;gBAAAT,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAA5DL,GAAG,GAAAD,KAAA,CAAAc,KAAA;cAAAV,QAAA,CAAAE,IAAA;cAClB,OAAM;gBAAES,GAAG,EAAEd,GAAG,CAACe,QAAQ,CAAC;cAAE,CAAC;YAAA;cAAApB,yBAAA;cAAAQ,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAa,EAAA,GAAAb,QAAA;cAAAP,iBAAA;cAAAC,cAAA,GAAAM,QAAA,CAAAa,EAAA;YAAA;cAAAb,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAC,IAAA;cAAA,MAAAT,yBAAA,IAAAG,SAAA,CAAAmB,MAAA;gBAAAd,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAAAK,oBAAA,CAAAZ,SAAA,CAAAmB,MAAA;YAAA;cAAAd,QAAA,CAAAC,IAAA;cAAA,KAAAR,iBAAA;gBAAAO,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MAAAR,cAAA;YAAA;cAAA,OAAAM,QAAA,CAAAe,MAAA;YAAA;cAAA,OAAAf,QAAA,CAAAe,MAAA;YAAA;YAAA;cAAA,OAAAf,QAAA,CAAAgB,IAAA;UAAA;QAAA,GAAAzB,OAAA;MAAA;IAAA,CAEhC;IAAA,OAAAT,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAED,OAAOP,iBAAiB,CAACI,SAAS,CAAC;AACrC"},"metadata":{},"sourceType":"module","externalDependencies":[]}