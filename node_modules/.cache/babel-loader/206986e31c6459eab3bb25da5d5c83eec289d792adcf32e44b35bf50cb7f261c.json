{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import useHandleToken from\"hooks/token/useHandleToken\";import{useDispatch,useSelector}from\"react-redux\";import ACTIONS from\"redux/action\";import{selectUser}from\"redux/slice/userSlice\";export default function useReloadNFTItemBalance(){var user=useSelector(selectUser);var dispatch=useDispatch();var handleToken=useHandleToken();var reloadNFTItemBalance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(contractAddress,tokenID){var _process$env$REACT_AP;var isKeyContract,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user!==null&&user!==void 0&&user.wallet_id){_context.next=2;break;}return _context.abrupt(\"return\");case 2:isKeyContract=(contractAddress===null||contractAddress===void 0?void 0:contractAddress.toLowerCase())===((_process$env$REACT_AP=process.env.REACT_APP_NFKEY_ADDRESS)===null||_process$env$REACT_AP===void 0?void 0:_process$env$REACT_AP.toLowerCase());_context.next=5;return handleToken.checkToken(tokenID);case 5:token=_context.sent;if(token){_context.next=8;break;}return _context.abrupt(\"return\");case 8:ACTIONS.SET_NFT_LIST_ITEM(dispatch,token);ACTIONS.SET_CURRENT_TOKEN(dispatch,token);if((token===null||token===void 0?void 0:token.owner)===(user===null||user===void 0?void 0:user.wallet_id)){ACTIONS.SET_NFT_SELECTED(dispatch,token);}case 11:case\"end\":return _context.stop();}},_callee);}));return function reloadNFTItemBalance(_x,_x2){return _ref.apply(this,arguments);};}();return{reloadNFTItemBalance:reloadNFTItemBalance};}","map":{"version":3,"names":["useHandleToken","useDispatch","useSelector","ACTIONS","selectUser","useReloadNFTItemBalance","user","dispatch","handleToken","reloadNFTItemBalance","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractAddress","tokenID","_process$env$REACT_AP","isKeyContract","token","wrap","_callee$","_context","prev","next","wallet_id","abrupt","toLowerCase","process","env","REACT_APP_NFKEY_ADDRESS","checkToken","sent","SET_NFT_LIST_ITEM","SET_CURRENT_TOKEN","owner","SET_NFT_SELECTED","stop","_x","_x2","apply","arguments"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useReloadNFTItemBalance.js"],"sourcesContent":["import useHandleToken from \"hooks/token/useHandleToken\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\nimport { selectUser } from \"redux/slice/userSlice\";\n\nexport default function useReloadNFTItemBalance() {\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const handleToken = useHandleToken();\n\n  const reloadNFTItemBalance = async (contractAddress, tokenID) => {\n    if (!user?.wallet_id) return;\n    const isKeyContract =\n      contractAddress?.toLowerCase() ===\n      process.env.REACT_APP_NFKEY_ADDRESS?.toLowerCase();\n\n    const token = await handleToken.checkToken(tokenID);\n    if (!token) return;\n    ACTIONS.SET_NFT_LIST_ITEM(dispatch, token);\n    ACTIONS.SET_CURRENT_TOKEN(dispatch, token);\n    if (token?.owner === user?.wallet_id) {\n      ACTIONS.SET_NFT_SELECTED(dispatch, token);\n    }\n  };\n\n  return { reloadNFTItemBalance };\n}\n"],"mappings":"0PAAA,MAAO,CAAAA,cAAc,KAAM,4BAA4B,CACvD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,OAASC,UAAU,KAAQ,uBAAuB,CAElD,cAAe,SAAS,CAAAC,uBAAuBA,CAAA,CAAG,CAChD,GAAM,CAAAC,IAAI,CAAGJ,WAAW,CAACE,UAAU,CAAC,CACpC,GAAM,CAAAG,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAO,WAAW,CAAGR,cAAc,CAAC,CAAC,CAEpC,GAAM,CAAAS,oBAAoB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,eAAe,CAAEC,OAAO,MAAAC,qBAAA,KAAAC,aAAA,CAAAC,KAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,YACrDlB,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEmB,SAAS,EAAAH,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAI,MAAA,kBACdR,aAAa,CACjB,CAAAH,eAAe,SAAfA,eAAe,iBAAfA,eAAe,CAAEY,WAAW,CAAC,CAAC,MAAAV,qBAAA,CAC9BW,OAAO,CAACC,GAAG,CAACC,uBAAuB,UAAAb,qBAAA,iBAAnCA,qBAAA,CAAqCU,WAAW,CAAC,CAAC,EAAAL,QAAA,CAAAE,IAAA,SAEhC,CAAAhB,WAAW,CAACuB,UAAU,CAACf,OAAO,CAAC,QAA7CG,KAAK,CAAAG,QAAA,CAAAU,IAAA,IACNb,KAAK,EAAAG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAI,MAAA,kBACVvB,OAAO,CAAC8B,iBAAiB,CAAC1B,QAAQ,CAAEY,KAAK,CAAC,CAC1ChB,OAAO,CAAC+B,iBAAiB,CAAC3B,QAAQ,CAAEY,KAAK,CAAC,CAC1C,GAAI,CAAAA,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEgB,KAAK,KAAK7B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEmB,SAAS,EAAE,CACpCtB,OAAO,CAACiC,gBAAgB,CAAC7B,QAAQ,CAAEY,KAAK,CAAC,CAC3C,CAAC,yBAAAG,QAAA,CAAAe,IAAA,MAAAvB,OAAA,GACF,kBAbK,CAAAL,oBAAoBA,CAAA6B,EAAA,CAAAC,GAAA,SAAA7B,IAAA,CAAA8B,KAAA,MAAAC,SAAA,OAazB,CAED,MAAO,CAAEhC,oBAAoB,CAApBA,oBAAqB,CAAC,CACjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}