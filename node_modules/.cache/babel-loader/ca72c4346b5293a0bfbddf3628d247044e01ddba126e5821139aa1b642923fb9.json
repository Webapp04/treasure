{"ast":null,"code":"import _defineProperty from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import ReactDOM from\"react-dom\";import classNames from\"classnames\";import\"./style.scss\";import Icon from\"../Icon/icon\";import useWindowDimensions from\"hooks/useWidowDimensions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var _document;var custom=_ref.custom,withoutBlur=_ref.withoutBlur,isModalOpen=_ref.isModalOpen,_ref$handleClose=_ref.handleClose,handleClose=_ref$handleClose===void 0?function(){}:_ref$handleClose,children=_ref.children,_ref$withCrossIcon=_ref.withCrossIcon,withCrossIcon=_ref$withCrossIcon===void 0?false:_ref$withCrossIcon,_ref$isDark=_ref.isDark,isDark=_ref$isDark===void 0?true:_ref$isDark,_ref$isFullModalBg=_ref.isFullModalBg,isFullModalBg=_ref$isFullModalBg===void 0?false:_ref$isFullModalBg,className=_ref.className,bgImg=_ref.bgImg;var ref=useRef(null);var _useState=useState(isModalOpen?isModalOpen:false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var windowParams=useWindowDimensions();var isMobile=(windowParams===null||windowParams===void 0?void 0:windowParams.width)<=640;var onClose=function onClose(){setIsOpen(false);handleClose();};useEffect(function(){isModalOpen&&setIsOpen(isModalOpen);},[isModalOpen]);useEffect(function(){var handleClickOutside=function handleClickOutside(event){var _ref$current;if(!(ref!==null&&ref!==void 0&&(_ref$current=ref.current)!==null&&_ref$current!==void 0&&_ref$current.contains(event.target))){setIsOpen(false);handleClose();}};document.addEventListener(\"mousedown\",handleClickOutside);},[ref]);return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(_Fragment,{children:isOpen&&/*#__PURE__*/_jsx(\"div\",{className:classNames(\"modal__overview\",{blurredModal:!withoutBlur}),children:/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:classNames(\"\",_defineProperty({\"modal__overview--wrapper\":!isMobile,\"modal__overview--wrapper--mobile\":isMobile},className,Boolean(className))),style:{backgroundImage:bgImg?\"url(\".concat(bgImg,\")\"):\"none\"},children:[withCrossIcon&&!isMobile&&/*#__PURE__*/_jsxs(\"div\",{onClick:onClose,className:\"modal__exit \".concat(isFullModalBg?\"modal__exit--noPadding\":\"\"),children:[/*#__PURE__*/_jsx(Icon,{iconName:isDark?\"exitDark\":\"exitLight\",className:\"modal__exit--line\"}),/*#__PURE__*/_jsx(Icon,{iconName:\"close\",className:\"modal__exit--bg\"})]}),isMobile&&!custom&&/*#__PURE__*/_jsx(\"div\",{className:\"BarAccordian\",children:/*#__PURE__*/_jsx(\"div\",{})}),children]})})}),(_document=document)===null||_document===void 0?void 0:_document.getElementById(\"modal-root\"));};export default Modal;","map":{"version":3,"names":["React","useEffect","useRef","useState","ReactDOM","classNames","Icon","useWindowDimensions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Modal","_ref","_document","custom","withoutBlur","isModalOpen","_ref$handleClose","handleClose","children","_ref$withCrossIcon","withCrossIcon","_ref$isDark","isDark","_ref$isFullModalBg","isFullModalBg","className","bgImg","ref","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","windowParams","isMobile","width","onClose","handleClickOutside","event","_ref$current","current","contains","target","document","addEventListener","createPortal","blurredModal","_defineProperty","Boolean","style","backgroundImage","concat","onClick","iconName","getElementById"],"sources":["/Users/apple/Documents/treasure/src/storybook/atom/Modal/modal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport classNames from \"classnames\";\nimport \"./style.scss\";\nimport Icon from \"../Icon/icon\";\nimport useWindowDimensions from \"hooks/useWidowDimensions\";\n\nconst Modal = ({\n  custom,\n  withoutBlur,\n  isModalOpen,\n  handleClose = () => {},\n  children,\n  withCrossIcon = false,\n  isDark = true,\n  isFullModalBg = false,\n  className,\n  bgImg,\n}) => {\n  const ref = useRef(null);\n  const [isOpen, setIsOpen] = useState(isModalOpen ? isModalOpen : false);\n  const windowParams = useWindowDimensions();\n  const isMobile = windowParams?.width <= 640;\n\n  const onClose = () => {\n    setIsOpen(false);\n    handleClose();\n  };\n\n  useEffect(() => {\n    isModalOpen && setIsOpen(isModalOpen);\n  }, [isModalOpen]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (!ref?.current?.contains(event.target)) {\n        setIsOpen(false);\n        handleClose();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n  }, [ref]);\n\n  return ReactDOM.createPortal(\n    <>\n      {/* <button onClick={() => setIsOpen(!isOpen)}>Open</button> */}\n      {isOpen && (\n        <div\n          className={classNames(\"modal__overview\", {\n            blurredModal: !withoutBlur,\n          })}\n        >\n          <div\n            ref={ref}\n            className={classNames(\"\", {\n              \"modal__overview--wrapper\": !isMobile,\n              \"modal__overview--wrapper--mobile\": isMobile,\n              [className]: Boolean(className),\n            })}\n            style={{\n              backgroundImage: bgImg ? `url(${bgImg})` : \"none\",\n            }}\n          >\n            {withCrossIcon && !isMobile && (\n              <div\n                onClick={onClose}\n                className={`modal__exit ${\n                  isFullModalBg ? \"modal__exit--noPadding\" : \"\"\n                }`}\n              >\n                <Icon\n                  iconName={isDark ? \"exitDark\" : \"exitLight\"}\n                  className=\"modal__exit--line\"\n                />\n                <Icon iconName={\"close\"} className=\"modal__exit--bg\" />\n              </div>\n            )}\n            {isMobile && !custom && (\n              <div className=\"BarAccordian\">\n                <div></div>\n              </div>\n            )}\n            {children}\n          </div>\n        </div>\n      )}\n    </>,\n    document?.getElementById(\"modal-root\")\n  );\n};\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}