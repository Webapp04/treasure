{"ast":null,"code":"import _classCallCheck from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { base58btc } from 'multiformats/bases/base58';\nexport var WantListEntry = /*#__PURE__*/function (_Symbol$toStringTag) {\n  /**\n   * @param {import('multiformats').CID} cid\n   * @param {number} priority\n   * @param {import('../message/message').Message.Wantlist.WantType} wantType\n   */\n  function WantListEntry(cid, priority, wantType) {\n    _classCallCheck(this, WantListEntry);\n    // Keep track of how many requests we have for this key\n    this._refCounter = 1;\n    this.cid = cid;\n    this.priority = priority || 1;\n    this.wantType = wantType;\n  }\n  _createClass(WantListEntry, [{\n    key: \"inc\",\n    value: function inc() {\n      this._refCounter += 1;\n    }\n  }, {\n    key: \"dec\",\n    value: function dec() {\n      this._refCounter = Math.max(0, this._refCounter - 1);\n    }\n  }, {\n    key: \"hasRefs\",\n    value: function hasRefs() {\n      return this._refCounter > 0;\n    }\n\n    // So that console.log prints a nice description of this object\n  }, {\n    key: _Symbol$toStringTag,\n    get: function get() {\n      var cidStr = this.cid.toString(base58btc);\n      return \"WantlistEntry <key: \".concat(cidStr, \", priority: \").concat(this.priority, \", refs: \").concat(this._refCounter, \">\");\n    }\n\n    /**\n     * @param {any} other\n     */\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      return this._refCounter === other._refCounter && this.cid.equals(other.cid) && this.priority === other.priority && this.wantType === other.wantType;\n    }\n  }]);\n  return WantListEntry;\n}(Symbol.toStringTag);","map":{"version":3,"names":["base58btc","WantListEntry","_Symbol$toStringTag","cid","priority","wantType","_classCallCheck","_refCounter","_createClass","key","value","inc","dec","Math","max","hasRefs","get","cidStr","toString","concat","equals","other","Symbol","toStringTag"],"sources":["/Users/apple/Documents/treasure/node_modules/ipfs-bitswap/src/wantlist/entry.js"],"sourcesContent":["\nimport { base58btc } from 'multiformats/bases/base58'\n\nexport class WantListEntry {\n  /**\n   * @param {import('multiformats').CID} cid\n   * @param {number} priority\n   * @param {import('../message/message').Message.Wantlist.WantType} wantType\n   */\n  constructor (cid, priority, wantType) {\n    // Keep track of how many requests we have for this key\n    this._refCounter = 1\n\n    this.cid = cid\n    this.priority = priority || 1\n    this.wantType = wantType\n  }\n\n  inc () {\n    this._refCounter += 1\n  }\n\n  dec () {\n    this._refCounter = Math.max(0, this._refCounter - 1)\n  }\n\n  hasRefs () {\n    return this._refCounter > 0\n  }\n\n  // So that console.log prints a nice description of this object\n  get [Symbol.toStringTag] () {\n    const cidStr = this.cid.toString(base58btc)\n    return `WantlistEntry <key: ${cidStr}, priority: ${this.priority}, refs: ${this._refCounter}>`\n  }\n\n  /**\n   * @param {any} other\n   */\n  equals (other) {\n    return (this._refCounter === other._refCounter) &&\n      this.cid.equals(other.cid) &&\n      this.priority === other.priority &&\n      this.wantType === other.wantType\n  }\n}\n"],"mappings":";;AACA,SAASA,SAAS,QAAQ,2BAA2B;AAErD,WAAaC,aAAa,0BAAAC,mBAAA;EACxB;AACF;AACA;AACA;AACA;EACE,SAAAD,cAAaE,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IAAAC,eAAA,OAAAL,aAAA;IACpC;IACA,IAAI,CAACM,WAAW,GAAG,CAAC;IAEpB,IAAI,CAACJ,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,QAAQ,GAAGA,QAAQ,IAAI,CAAC;IAC7B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAC1B;EAACG,YAAA,CAAAP,aAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,IAAA,EAAO;MACL,IAAI,CAACJ,WAAW,IAAI,CAAC;IACvB;EAAC;IAAAE,GAAA;IAAAC,KAAA,EAED,SAAAE,IAAA,EAAO;MACL,IAAI,CAACL,WAAW,GAAGM,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACP,WAAW,GAAG,CAAC,CAAC;IACtD;EAAC;IAAAE,GAAA;IAAAC,KAAA,EAED,SAAAK,QAAA,EAAW;MACT,OAAO,IAAI,CAACR,WAAW,GAAG,CAAC;IAC7B;;IAEA;EAAA;IAAAE,GAAA,EAAAP,mBAAA;IAAAc,GAAA,EACA,SAAAA,IAAA,EAA4B;MAC1B,IAAMC,MAAM,GAAG,IAAI,CAACd,GAAG,CAACe,QAAQ,CAAClB,SAAS,CAAC;MAC3C,8BAAAmB,MAAA,CAA8BF,MAAM,kBAAAE,MAAA,CAAe,IAAI,CAACf,QAAQ,cAAAe,MAAA,CAAW,IAAI,CAACZ,WAAW;IAC7F;;IAEA;AACF;AACA;EAFE;IAAAE,GAAA;IAAAC,KAAA,EAGA,SAAAU,OAAQC,KAAK,EAAE;MACb,OAAQ,IAAI,CAACd,WAAW,KAAKc,KAAK,CAACd,WAAW,IAC5C,IAAI,CAACJ,GAAG,CAACiB,MAAM,CAACC,KAAK,CAAClB,GAAG,CAAC,IAC1B,IAAI,CAACC,QAAQ,KAAKiB,KAAK,CAACjB,QAAQ,IAChC,IAAI,CAACC,QAAQ,KAAKgB,KAAK,CAAChB,QAAQ;IACpC;EAAC;EAAA,OAAAJ,aAAA;AAAA,EAbIqB,MAAM,CAACC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}