{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _createClass = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _classCallCheck = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _assertThisInitialized = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/assertThisInitialized.js\").default;\nvar _inherits = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _require = require('../abstract-iterator'),\n  AbstractKeyIterator = _require.AbstractKeyIterator,\n  AbstractValueIterator = _require.AbstractValueIterator;\nvar kIterator = Symbol('iterator');\nvar kCallback = Symbol('callback');\nvar kHandleOne = Symbol('handleOne');\nvar kHandleMany = Symbol('handleMany');\nvar DefaultKeyIterator = /*#__PURE__*/function (_AbstractKeyIterator) {\n  _inherits(DefaultKeyIterator, _AbstractKeyIterator);\n  var _super = _createSuper(DefaultKeyIterator);\n  function DefaultKeyIterator(db, options) {\n    var _this;\n    _classCallCheck(this, DefaultKeyIterator);\n    _this = _super.call(this, db, options);\n    _this[kIterator] = db.iterator(_objectSpread(_objectSpread({}, options), {}, {\n      keys: true,\n      values: false\n    }));\n    _this[kHandleOne] = _this[kHandleOne].bind(_assertThisInitialized(_this));\n    _this[kHandleMany] = _this[kHandleMany].bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  return _createClass(DefaultKeyIterator);\n}(AbstractKeyIterator);\nvar DefaultValueIterator = /*#__PURE__*/function (_AbstractValueIterato) {\n  _inherits(DefaultValueIterator, _AbstractValueIterato);\n  var _super2 = _createSuper(DefaultValueIterator);\n  function DefaultValueIterator(db, options) {\n    var _this2;\n    _classCallCheck(this, DefaultValueIterator);\n    _this2 = _super2.call(this, db, options);\n    _this2[kIterator] = db.iterator(_objectSpread(_objectSpread({}, options), {}, {\n      keys: false,\n      values: true\n    }));\n    _this2[kHandleOne] = _this2[kHandleOne].bind(_assertThisInitialized(_this2));\n    _this2[kHandleMany] = _this2[kHandleMany].bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n  return _createClass(DefaultValueIterator);\n}(AbstractValueIterator);\nvar _loop = function _loop() {\n  var Iterator = _arr[_i];\n  var keys = Iterator === DefaultKeyIterator;\n  var mapEntry = keys ? function (entry) {\n    return entry[0];\n  } : function (entry) {\n    return entry[1];\n  };\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback;\n    this[kIterator].next(this[kHandleOne]);\n  };\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    var callback = this[kCallback];\n    if (err) callback(err);else callback(null, keys ? key : value);\n  };\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback;\n    this[kIterator].nextv(size, options, this[kHandleMany]);\n  };\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback;\n    this[kIterator].all(options, this[kHandleMany]);\n  };\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    var callback = this[kCallback];\n    if (err) callback(err);else callback(null, entries.map(mapEntry));\n  };\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options);\n  };\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback);\n  };\n};\nfor (var _i = 0, _arr = [DefaultKeyIterator, DefaultValueIterator]; _i < _arr.length; _i++) {\n  _loop();\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator;\nexports.DefaultValueIterator = DefaultValueIterator;","map":{"version":3,"names":["_objectSpread","require","default","_createClass","_classCallCheck","_assertThisInitialized","_inherits","_createSuper","_require","AbstractKeyIterator","AbstractValueIterator","kIterator","Symbol","kCallback","kHandleOne","kHandleMany","DefaultKeyIterator","_AbstractKeyIterator","_super","db","options","_this","call","iterator","keys","values","bind","DefaultValueIterator","_AbstractValueIterato","_super2","_this2","_loop","Iterator","_arr","_i","mapEntry","entry","prototype","_next","callback","next","err","key","value","_nextv","size","nextv","_all","all","entries","map","_seek","target","seek","_close","close","length","exports"],"sources":["/Users/apple/Documents/treasure/node_modules/abstract-level/lib/default-kv-iterator.js"],"sourcesContent":["'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kCallback = Symbol('callback')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  const keys = Iterator === DefaultKeyIterator\n  const mapEntry = keys ? (entry) => entry[0] : (entry) => entry[1]\n\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, keys ? key : value)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, entries.map(mapEntry))\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}