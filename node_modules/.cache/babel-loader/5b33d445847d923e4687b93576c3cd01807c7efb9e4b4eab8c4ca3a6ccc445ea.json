{"ast":null,"code":"import _toConsumableArray from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _wrapAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _awaitAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _asyncGeneratorDelegate from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js\";\nimport _asyncIterator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport errCode from 'err-code';\nimport { messages, codes } from '../errors.js';\nimport { storeAddresses, uniquePeers, requirePeers } from './utils.js';\nimport drain from 'it-drain';\nimport merge from 'it-merge';\nimport { pipe } from 'it-pipe';\nexport var CompoundContentRouting = /*#__PURE__*/function () {\n  function CompoundContentRouting(components, init) {\n    var _init$routers;\n    _classCallCheck(this, CompoundContentRouting);\n    this.routers = (_init$routers = init.routers) !== null && _init$routers !== void 0 ? _init$routers : [];\n    this.started = false;\n    this.components = components;\n  }\n  _createClass(CompoundContentRouting, [{\n    key: \"isStarted\",\n    value: function isStarted() {\n      return this.started;\n    }\n  }, {\n    key: \"start\",\n    value: function () {\n      var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.started = true;\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function start() {\n        return _start.apply(this, arguments);\n      }\n      return start;\n    }()\n  }, {\n    key: \"stop\",\n    value: function () {\n      var _stop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this.started = false;\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function stop() {\n        return _stop.apply(this, arguments);\n      }\n      return stop;\n    }()\n    /**\n     * Iterates over all content routers in parallel to find providers of the given key\n     */\n  }, {\n    key: \"findProviders\",\n    value: function findProviders(key) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.routers.length === 0)) {\n                _context3.next = 2;\n                break;\n              }\n              throw errCode(new Error('No content this.routers available'), codes.ERR_NO_ROUTERS_AVAILABLE);\n            case 2:\n              return _context3.delegateYield(_asyncGeneratorDelegate(_asyncIterator(pipe(merge.apply(void 0, _toConsumableArray(_this.routers.map(function (router) {\n                return router.findProviders(key, options);\n              }))), function (source) {\n                return storeAddresses(source, _this.components.getPeerStore());\n              }, function (source) {\n                return uniquePeers(source);\n              }, function (source) {\n                return requirePeers(source);\n              })), _awaitAsyncGenerator), \"t0\", 3);\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    }\n    /**\n     * Iterates over all content routers in parallel to notify it is\n     * a provider of the given key\n     */\n  }, {\n    key: \"provide\",\n    value: function () {\n      var _provide = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(key) {\n        var options,\n          _args5 = arguments;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n              if (!(this.routers.length === 0)) {\n                _context5.next = 3;\n                break;\n              }\n              throw errCode(new Error('No content routers available'), codes.ERR_NO_ROUTERS_AVAILABLE);\n            case 3:\n              _context5.next = 5;\n              return Promise.all(this.routers.map( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(router) {\n                  return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                    while (1) switch (_context4.prev = _context4.next) {\n                      case 0:\n                        _context4.next = 2;\n                        return router.provide(key, options);\n                      case 2:\n                        return _context4.abrupt(\"return\", _context4.sent);\n                      case 3:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }, _callee4);\n                }));\n                return function (_x2) {\n                  return _ref.apply(this, arguments);\n                };\n              }()));\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function provide(_x) {\n        return _provide.apply(this, arguments);\n      }\n      return provide;\n    }()\n    /**\n     * Store the given key/value pair in the available content routings\n     */\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(key, value, options) {\n        var dht;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (this.isStarted()) {\n                _context6.next = 2;\n                break;\n              }\n              throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED);\n            case 2:\n              dht = this.components.getDHT();\n              if (!(dht != null)) {\n                _context6.next = 6;\n                break;\n              }\n              _context6.next = 6;\n              return drain(dht.put(key, value, options));\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function put(_x3, _x4, _x5) {\n        return _put.apply(this, arguments);\n      }\n      return put;\n    }()\n    /**\n     * Get the value to the given key.\n     * Times out after 1 minute by default.\n     */\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(key, options) {\n        var dht, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, event;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              if (this.isStarted()) {\n                _context7.next = 2;\n                break;\n              }\n              throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED);\n            case 2:\n              dht = this.components.getDHT();\n              if (!(dht != null)) {\n                _context7.next = 33;\n                break;\n              }\n              _iteratorAbruptCompletion = false;\n              _didIteratorError = false;\n              _context7.prev = 6;\n              _iterator = _asyncIterator(dht.get(key, options));\n            case 8:\n              _context7.next = 10;\n              return _iterator.next();\n            case 10:\n              if (!(_iteratorAbruptCompletion = !(_step = _context7.sent).done)) {\n                _context7.next = 17;\n                break;\n              }\n              event = _step.value;\n              if (!(event.name === 'VALUE')) {\n                _context7.next = 14;\n                break;\n              }\n              return _context7.abrupt(\"return\", event.value);\n            case 14:\n              _iteratorAbruptCompletion = false;\n              _context7.next = 8;\n              break;\n            case 17:\n              _context7.next = 23;\n              break;\n            case 19:\n              _context7.prev = 19;\n              _context7.t0 = _context7[\"catch\"](6);\n              _didIteratorError = true;\n              _iteratorError = _context7.t0;\n            case 23:\n              _context7.prev = 23;\n              _context7.prev = 24;\n              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                _context7.next = 28;\n                break;\n              }\n              _context7.next = 28;\n              return _iterator.return();\n            case 28:\n              _context7.prev = 28;\n              if (!_didIteratorError) {\n                _context7.next = 31;\n                break;\n              }\n              throw _iteratorError;\n            case 31:\n              return _context7.finish(28);\n            case 32:\n              return _context7.finish(23);\n            case 33:\n              throw errCode(new Error(messages.NOT_FOUND), codes.ERR_NOT_FOUND);\n            case 34:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this, [[6, 19, 23, 33], [24,, 28, 32]]);\n      }));\n      function get(_x6, _x7) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n    /**\n     * Get the `n` values to the given key without sorting\n     */\n  }, {\n    key: \"getMany\",\n    value: function getMany(key, nVals, options) {\n      var _this2 = this;\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var gotValues, dht, _iteratorAbruptCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, event;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              if (_this2.isStarted()) {\n                _context8.next = 2;\n                break;\n              }\n              throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED);\n            case 2:\n              if (!(nVals == null || nVals === 0)) {\n                _context8.next = 4;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 4:\n              gotValues = 0;\n              dht = _this2.components.getDHT();\n              if (!(dht != null)) {\n                _context8.next = 40;\n                break;\n              }\n              _iteratorAbruptCompletion2 = false;\n              _didIteratorError2 = false;\n              _context8.prev = 9;\n              _iterator2 = _asyncIterator(dht.get(key, options));\n            case 11:\n              _context8.next = 13;\n              return _awaitAsyncGenerator(_iterator2.next());\n            case 13:\n              if (!(_iteratorAbruptCompletion2 = !(_step2 = _context8.sent).done)) {\n                _context8.next = 24;\n                break;\n              }\n              event = _step2.value;\n              if (!(event.name === 'VALUE')) {\n                _context8.next = 21;\n                break;\n              }\n              _context8.next = 18;\n              return {\n                from: event.from,\n                val: event.value\n              };\n            case 18:\n              gotValues++;\n              if (!(gotValues === nVals)) {\n                _context8.next = 21;\n                break;\n              }\n              return _context8.abrupt(\"break\", 24);\n            case 21:\n              _iteratorAbruptCompletion2 = false;\n              _context8.next = 11;\n              break;\n            case 24:\n              _context8.next = 30;\n              break;\n            case 26:\n              _context8.prev = 26;\n              _context8.t0 = _context8[\"catch\"](9);\n              _didIteratorError2 = true;\n              _iteratorError2 = _context8.t0;\n            case 30:\n              _context8.prev = 30;\n              _context8.prev = 31;\n              if (!(_iteratorAbruptCompletion2 && _iterator2.return != null)) {\n                _context8.next = 35;\n                break;\n              }\n              _context8.next = 35;\n              return _awaitAsyncGenerator(_iterator2.return());\n            case 35:\n              _context8.prev = 35;\n              if (!_didIteratorError2) {\n                _context8.next = 38;\n                break;\n              }\n              throw _iteratorError2;\n            case 38:\n              return _context8.finish(35);\n            case 39:\n              return _context8.finish(30);\n            case 40:\n              if (!(gotValues === 0)) {\n                _context8.next = 42;\n                break;\n              }\n              throw errCode(new Error(messages.NOT_FOUND), codes.ERR_NOT_FOUND);\n            case 42:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, null, [[9, 26, 30, 40], [31,, 35, 39]]);\n      }))();\n    }\n  }]);\n  return CompoundContentRouting;\n}();","map":{"version":3,"names":["errCode","messages","codes","storeAddresses","uniquePeers","requirePeers","drain","merge","pipe","CompoundContentRouting","components","init","_init$routers","_classCallCheck","routers","started","_createClass","key","value","isStarted","_start","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","start","apply","arguments","_stop","_callee2","_callee2$","_context2","findProviders","_this","options","length","undefined","_wrapAsyncGenerator","_callee3","_callee3$","_context3","Error","ERR_NO_ROUTERS_AVAILABLE","delegateYield","_asyncGeneratorDelegate","_asyncIterator","_toConsumableArray","map","router","source","getPeerStore","_awaitAsyncGenerator","_provide","_callee5","_args5","_callee5$","_context5","Promise","all","_ref","_callee4","_callee4$","_context4","provide","abrupt","sent","_x2","_x","_put","_callee6","dht","_callee6$","_context6","NOT_STARTED_YET","DHT_NOT_STARTED","getDHT","put","_x3","_x4","_x5","_get","_callee7","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","event","_callee7$","_context7","get","done","name","t0","return","finish","NOT_FOUND","ERR_NOT_FOUND","_x6","_x7","getMany","nVals","_this2","_callee8","gotValues","_iteratorAbruptCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_callee8$","_context8","from","val"],"sources":["/Users/apple/Documents/treasure/node_modules/libp2p/src/content-routing/index.ts"],"sourcesContent":["import errCode from 'err-code'\nimport { messages, codes } from '../errors.js'\nimport {\n  storeAddresses,\n  uniquePeers,\n  requirePeers\n} from './utils.js'\nimport drain from 'it-drain'\nimport merge from 'it-merge'\nimport { pipe } from 'it-pipe'\nimport type { ContentRouting } from '@libp2p/interface-content-routing'\nimport type { AbortOptions } from '@libp2p/interfaces'\nimport type { Startable } from '@libp2p/interfaces/startable'\nimport type { CID } from 'multiformats/cid'\nimport type { Components } from '@libp2p/components'\n\nexport interface CompoundContentRoutingInit {\n  routers: ContentRouting[]\n}\n\nexport class CompoundContentRouting implements ContentRouting, Startable {\n  private readonly routers: ContentRouting[]\n  private started: boolean\n  private readonly components: Components\n\n  constructor (components: Components, init: CompoundContentRoutingInit) {\n    this.routers = init.routers ?? []\n    this.started = false\n    this.components = components\n  }\n\n  isStarted () {\n    return this.started\n  }\n\n  async start () {\n    this.started = true\n  }\n\n  async stop () {\n    this.started = false\n  }\n\n  /**\n   * Iterates over all content routers in parallel to find providers of the given key\n   */\n  async * findProviders (key: CID, options: AbortOptions = {}) {\n    if (this.routers.length === 0) {\n      throw errCode(new Error('No content this.routers available'), codes.ERR_NO_ROUTERS_AVAILABLE)\n    }\n\n    yield * pipe(\n      merge(\n        ...this.routers.map(router => router.findProviders(key, options))\n      ),\n      (source) => storeAddresses(source, this.components.getPeerStore()),\n      (source) => uniquePeers(source),\n      (source) => requirePeers(source)\n    )\n  }\n\n  /**\n   * Iterates over all content routers in parallel to notify it is\n   * a provider of the given key\n   */\n  async provide (key: CID, options: AbortOptions = {}) {\n    if (this.routers.length === 0) {\n      throw errCode(new Error('No content routers available'), codes.ERR_NO_ROUTERS_AVAILABLE)\n    }\n\n    await Promise.all(this.routers.map(async (router) => await router.provide(key, options)))\n  }\n\n  /**\n   * Store the given key/value pair in the available content routings\n   */\n  async put (key: Uint8Array, value: Uint8Array, options?: AbortOptions) {\n    if (!this.isStarted()) {\n      throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED)\n    }\n\n    const dht = this.components.getDHT()\n\n    if (dht != null) {\n      await drain(dht.put(key, value, options))\n    }\n  }\n\n  /**\n   * Get the value to the given key.\n   * Times out after 1 minute by default.\n   */\n  async get (key: Uint8Array, options?: AbortOptions): Promise<Uint8Array> {\n    if (!this.isStarted()) {\n      throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED)\n    }\n\n    const dht = this.components.getDHT()\n\n    if (dht != null) {\n      for await (const event of dht.get(key, options)) {\n        if (event.name === 'VALUE') {\n          return event.value\n        }\n      }\n    }\n\n    throw errCode(new Error(messages.NOT_FOUND), codes.ERR_NOT_FOUND)\n  }\n\n  /**\n   * Get the `n` values to the given key without sorting\n   */\n  async * getMany (key: Uint8Array, nVals: number, options: AbortOptions) { // eslint-disable-line require-await\n    if (!this.isStarted()) {\n      throw errCode(new Error(messages.NOT_STARTED_YET), codes.DHT_NOT_STARTED)\n    }\n\n    if (nVals == null || nVals === 0) {\n      return\n    }\n\n    let gotValues = 0\n    const dht = this.components.getDHT()\n\n    if (dht != null) {\n      for await (const event of dht.get(key, options)) {\n        if (event.name === 'VALUE') {\n          yield { from: event.from, val: event.value }\n\n          gotValues++\n\n          if (gotValues === nVals) {\n            break\n          }\n        }\n      }\n    }\n\n    if (gotValues === 0) {\n      throw errCode(new Error(messages.NOT_FOUND), codes.ERR_NOT_FOUND)\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}