{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import\"./style.scss\";import AccountComponent from\"../AccountComponent\";import uploadImg from\"../../assets/images/marketplace/upload.svg\";import defaultBanner from\"../../assets/images/marketplace/navbar_banner.jpg\";import{customStylesMobile}from\"./stylesMobile\";import useHandleCustomer from\"../../hooks/customer/useHandleCustomer\";import{customStylesTablet}from\"./stylesTablet\";import useWindowDimensions from\"../../hooks/useWidowDimensions\";import{useDispatch,useSelector}from\"react-redux\";import{selectTheme}from\"redux/slice/themeSlice\";import{selectUser}from\"redux/slice/userSlice\";import ACTIONS from\"redux/action\";import Modal from\"storybook/atom/Modal/modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBarEditModeMobile=function NavBarEditModeMobile(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose;var dispatch=useDispatch();var theme=useSelector(selectTheme);var user=useSelector(selectUser);var fileRef=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),banner=_useState2[0],setBanner=_useState2[1];var handleCustomer=useHandleCustomer();var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userInfo=_useState4[0],setUserInfo=_useState4[1];var windowParams=useWindowDimensions();var isMobile=(windowParams===null||windowParams===void 0?void 0:windowParams.width)<=450;var isDark=theme===\"dark\";useEffect(function(){var _user$banner;setBanner(user!==null&&user!==void 0&&(_user$banner=user.banner)!==null&&_user$banner!==void 0&&_user$banner.length?user===null||user===void 0?void 0:user.banner:defaultBanner);},[user]);var uploadImage=function uploadImage(event){var _event$target;var reader=new FileReader();reader.readAsDataURL(event===null||event===void 0?void 0:(_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.files[0]);reader.onload=function(){setBanner(reader.result);ACTIONS.SET_ACCOUNT_BANNER_IMAGE(dispatch,reader.result);};};var onSave=function onSave(){var account=userInfo.account,linkList=userInfo.linkList,avatar=userInfo.avatar;handleCustomer.updateInfo({name:account,links:linkList,avatar:avatar,banner:banner});onClose();};var onCancel=function onCancel(){onClose();};return/*#__PURE__*/_jsxs(Modal,{isModalOpen:isOpen,handleClose:onClose,custom:true,className:\"max-h-[586px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editModal\",children:[/*#__PURE__*/_jsx(AccountComponent,{isEditMode:true,setUserInfo:setUserInfo}),/*#__PURE__*/_jsxs(\"div\",{className:\"uploadImg\",onClick:function onClick(){var _fileRef$current;return fileRef===null||fileRef===void 0?void 0:(_fileRef$current=fileRef.current)===null||_fileRef$current===void 0?void 0:_fileRef$current.click();},style:{backgroundImage:\"url(\".concat(banner,\")\")},children:[/*#__PURE__*/_jsx(\"img\",{src:uploadImg,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload baner image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileRef,hidden:true,multiple:true,onChange:uploadImage})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editModal__buttons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"account__save account__cancel\",onClick:onCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"account__save\",onClick:onSave,children:\"Save\"})]})]});};export default NavBarEditModeMobile;","map":{"version":3,"names":["React","useEffect","useRef","useState","AccountComponent","uploadImg","defaultBanner","customStylesMobile","useHandleCustomer","customStylesTablet","useWindowDimensions","useDispatch","useSelector","selectTheme","selectUser","ACTIONS","Modal","jsx","_jsx","jsxs","_jsxs","NavBarEditModeMobile","_ref","isOpen","onClose","dispatch","theme","user","fileRef","_useState","_useState2","_slicedToArray","banner","setBanner","handleCustomer","_useState3","_useState4","userInfo","setUserInfo","windowParams","isMobile","width","isDark","_user$banner","length","uploadImage","event","_event$target","reader","FileReader","readAsDataURL","target","files","onload","result","SET_ACCOUNT_BANNER_IMAGE","onSave","account","linkList","avatar","updateInfo","name","links","onCancel","isModalOpen","handleClose","custom","className","children","isEditMode","onClick","_fileRef$current","current","click","style","backgroundImage","concat","src","alt","type","ref","hidden","multiple","onChange"],"sources":["/Users/apple/Documents/treasure/src/components/NavBarEditModeMobile/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport \"./style.scss\";\nimport AccountComponent from \"../AccountComponent\";\nimport uploadImg from \"../../assets/images/marketplace/upload.svg\";\nimport defaultBanner from \"../../assets/images/marketplace/navbar_banner.jpg\";\nimport { customStylesMobile } from \"./stylesMobile\";\nimport useHandleCustomer from \"../../hooks/customer/useHandleCustomer\";\nimport { customStylesTablet } from \"./stylesTablet\";\nimport useWindowDimensions from \"../../hooks/useWidowDimensions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectTheme } from \"redux/slice/themeSlice\";\nimport { selectUser } from \"redux/slice/userSlice\";\nimport ACTIONS from \"redux/action\";\nimport Modal from \"storybook/atom/Modal/modal\";\n\nconst NavBarEditModeMobile = ({ isOpen, onClose }) => {\n  const dispatch = useDispatch();\n  const theme = useSelector(selectTheme);\n  const user = useSelector(selectUser);\n  const fileRef = useRef();\n  const [banner, setBanner] = useState();\n  const handleCustomer = useHandleCustomer();\n  const [userInfo, setUserInfo] = useState({});\n  const windowParams = useWindowDimensions();\n  const isMobile = windowParams?.width <= 450;\n  const isDark = theme === \"dark\";\n\n  useEffect(() => {\n    setBanner(user?.banner?.length ? user?.banner : defaultBanner);\n  }, [user]);\n\n  const uploadImage = (event) => {\n    let reader = new FileReader();\n    reader.readAsDataURL(event?.target?.files[0]);\n    reader.onload = function () {\n      setBanner(reader.result);\n      ACTIONS.SET_ACCOUNT_BANNER_IMAGE(dispatch, reader.result);\n    };\n  };\n\n  const onSave = () => {\n    const { account, linkList, avatar } = userInfo;\n    handleCustomer.updateInfo({\n      name: account,\n      links: linkList,\n      avatar: avatar,\n      banner: banner,\n    });\n    onClose();\n  };\n\n  const onCancel = () => {\n    onClose();\n  };\n\n  return (\n    <Modal\n      isModalOpen={isOpen}\n      handleClose={onClose}\n      custom\n      className=\"max-h-[586px]\"\n    >\n      <div className={\"editModal\"}>\n        <AccountComponent isEditMode={true} setUserInfo={setUserInfo} />\n\n        <div\n          className={\"uploadImg\"}\n          onClick={() => fileRef?.current?.click()}\n          style={{ backgroundImage: `url(${banner})` }}\n        >\n          <img src={uploadImg} alt={\"\"} />\n          <p>Upload baner image</p>\n          <input\n            type={\"file\"}\n            ref={fileRef}\n            hidden\n            multiple\n            onChange={uploadImage}\n          />\n        </div>\n      </div>\n\n      <div className={\"editModal__buttons\"}>\n        <div className={\"account__save account__cancel\"} onClick={onCancel}>\n          Cancel\n        </div>\n        <div className={\"account__save\"} onClick={onSave}>\n          Save\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default NavBarEditModeMobile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}