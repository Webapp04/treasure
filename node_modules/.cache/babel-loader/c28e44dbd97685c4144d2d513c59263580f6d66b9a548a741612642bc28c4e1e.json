{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ethers}from\"ethers\";import{useDispatch}from\"react-redux\";import ACTIONS from\"redux/action\";export default function useGetAVAXBalance(){var dispatch=useDispatch();var getAVAXBalance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(address){var count,provider,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:count=_args.length>1&&_args[1]!==undefined?_args[1]:3;provider=new ethers.providers.Web3Provider(window.ethereum);return _context.abrupt(\"return\",provider.getBalance(address).then(function(balance){ACTIONS.SET_BALANCE_AVAX(dispatch,+ethers.utils.formatEther(balance));}).catch(function(){return count?getAVAXBalance(address,count-1):null;}));case 3:case\"end\":return _context.stop();}},_callee);}));return function getAVAXBalance(_x){return _ref.apply(this,arguments);};}();return{getAVAXBalance:getAVAXBalance};}","map":{"version":3,"names":["ethers","useDispatch","ACTIONS","useGetAVAXBalance","dispatch","getAVAXBalance","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","address","count","provider","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","providers","Web3Provider","window","ethereum","abrupt","getBalance","then","balance","SET_BALANCE_AVAX","utils","formatEther","catch","stop","_x","apply"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useGetAVAXBalance.js"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useDispatch } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\n\nexport default function useGetAVAXBalance() {\n  const dispatch = useDispatch();\n\n  const getAVAXBalance = async (address, count = 3) => {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    return provider\n      .getBalance(address)\n      .then((balance) => {\n        ACTIONS.SET_BALANCE_AVAX(dispatch, +ethers.utils.formatEther(balance));\n      })\n      .catch(() => (count ? getAVAXBalance(address, count - 1) : null));\n  };\n\n  return { getAVAXBalance };\n}\n"],"mappings":"0PAAA,OAASA,MAAM,KAAQ,QAAQ,CAC/B,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,OAAO,KAAM,cAAc,CAElC,cAAe,SAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC1C,GAAM,CAAAC,QAAQ,CAAGH,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAI,cAAc,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,OAAO,MAAAC,KAAA,CAAAC,QAAA,CAAAC,KAAA,CAAAC,SAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAER,KAAK,CAAAE,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,CAAC,CACxCD,QAAQ,CAAG,GAAI,CAAAb,MAAM,CAACuB,SAAS,CAACC,YAAY,CAACC,MAAM,CAACC,QAAQ,CAAC,QAAAR,QAAA,CAAAS,MAAA,UAC5Dd,QAAQ,CACZe,UAAU,CAACjB,OAAO,CAAC,CACnBkB,IAAI,CAAC,SAACC,OAAO,CAAK,CACjB5B,OAAO,CAAC6B,gBAAgB,CAAC3B,QAAQ,CAAE,CAACJ,MAAM,CAACgC,KAAK,CAACC,WAAW,CAACH,OAAO,CAAC,CAAC,CACxE,CAAC,CAAC,CACDI,KAAK,CAAC,iBAAO,CAAAtB,KAAK,CAAGP,cAAc,CAACM,OAAO,CAAEC,KAAK,CAAG,CAAC,CAAC,CAAG,IAAI,EAAC,CAAC,0BAAAM,QAAA,CAAAiB,IAAA,MAAAzB,OAAA,GACpE,kBARK,CAAAL,cAAcA,CAAA+B,EAAA,SAAA9B,IAAA,CAAA+B,KAAA,MAAAtB,SAAA,OAQnB,CAED,MAAO,CAAEV,cAAc,CAAdA,cAAe,CAAC,CAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}