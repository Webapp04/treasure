{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContractDailyBonusRewards}from\"hooks/blockchain/useHandleContracts\";import{useDispatch,useSelector}from\"react-redux\";import ACTIONS from\"redux/action\";import{selectUser}from\"redux/slice/userSlice\";export default function useUpdateBurnedEmissionInfo(){var user=useSelector(selectUser);var dispatch=useDispatch();var handleContractDailyBonusRewards=useContractDailyBonusRewards();var updateBurnedEmissionInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractDailyBonusRewards;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user!==null&&user!==void 0&&user.wallet_id){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return handleContractDailyBonusRewards;case 4:contractDailyBonusRewards=_context.sent;Promise.all([contractDailyBonusRewards.burned(),contractDailyBonusRewards.emission()]).then(function(res){ACTIONS.SET_BURNED_SMRTR(dispatch,res[0][0]._hex/1e18);ACTIONS.SET_BURNED_TRESR(dispatch,res[0][1]._hex/1e18);ACTIONS.SET_POOL_ALLOCATION(dispatch,res[1][0]._hex/1e18);ACTIONS.SET_BONUS_POOL_ALLOCATION(dispatch,res[1][1]._hex/1e18);return res;});case 6:case\"end\":return _context.stop();}},_callee);}));return function updateBurnedEmissionInfo(){return _ref.apply(this,arguments);};}();return{updateBurnedEmissionInfo:updateBurnedEmissionInfo};}","map":{"version":3,"names":["useContractDailyBonusRewards","useDispatch","useSelector","ACTIONS","selectUser","useUpdateBurnedEmissionInfo","user","dispatch","handleContractDailyBonusRewards","updateBurnedEmissionInfo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractDailyBonusRewards","wrap","_callee$","_context","prev","next","wallet_id","abrupt","sent","Promise","all","burned","emission","then","res","SET_BURNED_SMRTR","_hex","SET_BURNED_TRESR","SET_POOL_ALLOCATION","SET_BONUS_POOL_ALLOCATION","stop","apply","arguments"],"sources":["/Users/apple/Documents/treasure/src/hooks/rewards/useUpdateBurnedEmissionInfo.js"],"sourcesContent":["import { useContractDailyBonusRewards } from \"hooks/blockchain/useHandleContracts\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\nimport { selectUser } from \"redux/slice/userSlice\";\n\nexport default function useUpdateBurnedEmissionInfo() {\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const handleContractDailyBonusRewards = useContractDailyBonusRewards();\n\n  const updateBurnedEmissionInfo = async () => {\n    // return;\n    if (!user?.wallet_id) return;\n    const contractDailyBonusRewards = await handleContractDailyBonusRewards;\n    Promise.all([\n      contractDailyBonusRewards.burned(),\n      contractDailyBonusRewards.emission(),\n    ]).then((res) => {\n      ACTIONS.SET_BURNED_SMRTR(dispatch, res[0][0]._hex / 1e18);\n      ACTIONS.SET_BURNED_TRESR(dispatch, res[0][1]._hex / 1e18);\n      ACTIONS.SET_POOL_ALLOCATION(dispatch, res[1][0]._hex / 1e18);\n      ACTIONS.SET_BONUS_POOL_ALLOCATION(dispatch, res[1][1]._hex / 1e18);\n      return res;\n    });\n  };\n  return { updateBurnedEmissionInfo };\n}\n"],"mappings":"0PAAA,OAASA,4BAA4B,KAAQ,qCAAqC,CAClF,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,OAASC,UAAU,KAAQ,uBAAuB,CAElD,cAAe,SAAS,CAAAC,2BAA2BA,CAAA,CAAG,CACpD,GAAM,CAAAC,IAAI,CAAGJ,WAAW,CAACE,UAAU,CAAC,CACpC,GAAM,CAAAG,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAO,+BAA+B,CAAGR,4BAA4B,CAAC,CAAC,CAEtE,GAAM,CAAAS,wBAAwB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,yBAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,YAE1Bd,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEe,SAAS,EAAAH,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAI,MAAA,kBAAAJ,QAAA,CAAAE,IAAA,SACoB,CAAAZ,+BAA+B,QAAjEO,yBAAyB,CAAAG,QAAA,CAAAK,IAAA,CAC/BC,OAAO,CAACC,GAAG,CAAC,CACVV,yBAAyB,CAACW,MAAM,CAAC,CAAC,CAClCX,yBAAyB,CAACY,QAAQ,CAAC,CAAC,CACrC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CACf1B,OAAO,CAAC2B,gBAAgB,CAACvB,QAAQ,CAAEsB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAG,IAAI,CAAC,CACzD5B,OAAO,CAAC6B,gBAAgB,CAACzB,QAAQ,CAAEsB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAG,IAAI,CAAC,CACzD5B,OAAO,CAAC8B,mBAAmB,CAAC1B,QAAQ,CAAEsB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAG,IAAI,CAAC,CAC5D5B,OAAO,CAAC+B,yBAAyB,CAAC3B,QAAQ,CAAEsB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAG,IAAI,CAAC,CAClE,MAAO,CAAAF,GAAG,CACZ,CAAC,CAAC,CAAC,wBAAAX,QAAA,CAAAiB,IAAA,MAAArB,OAAA,GACJ,kBAdK,CAAAL,wBAAwBA,CAAA,SAAAC,IAAA,CAAA0B,KAAA,MAAAC,SAAA,OAc7B,CACD,MAAO,CAAE5B,wBAAwB,CAAxBA,wBAAyB,CAAC,CACrC"},"metadata":{},"sourceType":"module","externalDependencies":[]}