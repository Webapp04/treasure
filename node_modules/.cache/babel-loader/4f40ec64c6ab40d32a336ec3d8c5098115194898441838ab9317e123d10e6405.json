{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nvar _classCallCheck = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SystemRandomSource = void 0;\nvar browser_1 = require(\"./browser\");\nvar node_1 = require(\"./node\");\nvar SystemRandomSource = /*#__PURE__*/function () {\n  function SystemRandomSource() {\n    _classCallCheck(this, SystemRandomSource);\n    this.isAvailable = false;\n    this.name = \"\";\n    // Try browser.\n    this._source = new browser_1.BrowserRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Browser\";\n      return;\n    }\n    // If no browser source, try Node.\n    this._source = new node_1.NodeRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Node\";\n      return;\n    }\n    // No sources, we're out of options.\n  }\n  _createClass(SystemRandomSource, [{\n    key: \"randomBytes\",\n    value: function randomBytes(length) {\n      if (!this.isAvailable) {\n        throw new Error(\"System random byte generator is not available.\");\n      }\n      return this._source.randomBytes(length);\n    }\n  }]);\n  return SystemRandomSource;\n}();\nexports.SystemRandomSource = SystemRandomSource;","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","browser_1","node_1","SystemRandomSource","isAvailable","name","_source","BrowserRandomSource","NodeRandomSource","key","value","randomBytes","length","Error","exports"],"sources":["/Users/apple/Documents/treasure/node_modules/@stablelib/random/source/system.ts"],"sourcesContent":["// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\nimport { RandomSource } from \"./\";\nimport { BrowserRandomSource } from \"./browser\";\nimport { NodeRandomSource } from \"./node\";\n\nexport class SystemRandomSource implements RandomSource {\n    isAvailable = false;\n    name = \"\";\n    private _source: RandomSource;\n\n    constructor() {\n        // Try browser.\n        this._source = new BrowserRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Browser\";\n            return;\n        }\n\n        // If no browser source, try Node.\n        this._source = new NodeRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Node\";\n            return;\n        }\n\n        // No sources, we're out of options.\n    }\n\n    randomBytes(length: number): Uint8Array {\n        if (!this.isAvailable) {\n            throw new Error(\"System random byte generator is not available.\");\n        }\n        return this._source.randomBytes(length);\n    }\n}\n"],"mappings":";;AAAA;AACA;AAAA,IAAAA,eAAA,GAAAC,OAAA,0FAAAC,OAAA;AAAA,IAAAC,YAAA,GAAAF,OAAA,uFAAAC,OAAA;;;;;AAGA,IAAAE,SAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAA0C,IAE7BK,kBAAkB;EAK3B,SAAAA,mBAAA;IAAAN,eAAA,OAAAM,kBAAA;IAJA,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,IAAI,GAAG,EAAE;IAIL;IACA,IAAI,CAACC,OAAO,GAAG,IAAIL,SAAA,CAAAM,mBAAmB,EAAE;IACxC,IAAI,IAAI,CAACD,OAAO,CAACF,WAAW,EAAE;MAC1B,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,IAAI,GAAG,SAAS;MACrB;;IAGJ;IACA,IAAI,CAACC,OAAO,GAAG,IAAIJ,MAAA,CAAAM,gBAAgB,EAAE;IACrC,IAAI,IAAI,CAACF,OAAO,CAACF,WAAW,EAAE;MAC1B,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,IAAI,GAAG,MAAM;MAClB;;IAGJ;EACJ;EAACL,YAAA,CAAAG,kBAAA;IAAAM,GAAA;IAAAC,KAAA,EAED,SAAAC,YAAYC,MAAc;MACtB,IAAI,CAAC,IAAI,CAACR,WAAW,EAAE;QACnB,MAAM,IAAIS,KAAK,CAAC,gDAAgD,CAAC;;MAErE,OAAO,IAAI,CAACP,OAAO,CAACK,WAAW,CAACC,MAAM,CAAC;IAC3C;EAAC;EAAA,OAAAT,kBAAA;AAAA;AA9BLW,OAAA,CAAAX,kBAAA,GAAAA,kBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}