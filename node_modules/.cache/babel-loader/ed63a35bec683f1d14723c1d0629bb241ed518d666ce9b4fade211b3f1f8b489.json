{"ast":null,"code":"import _asyncToGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _wrapAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _awaitAsyncGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _asyncGeneratorDelegate from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js\";\nimport _asyncIterator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport drain from 'it-drain';\nimport filter from 'it-filter';\nimport take from 'it-take';\nimport all from 'it-all';\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nvar sortAll = function sortAll(iterable, sorter) {\n  return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var values;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _awaitAsyncGenerator(all(iterable));\n        case 2:\n          values = _context.sent;\n          return _context.delegateYield(_asyncGeneratorDelegate(_asyncIterator(values.sort(sorter)), _awaitAsyncGenerator), \"t0\", 4);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }))();\n};\n\n/**\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Batch} Batch\n *\n * @typedef {import('multiformats').CID} CID\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Blockstore}\n */\nexport var BaseBlockstore = /*#__PURE__*/function () {\n  function BaseBlockstore() {\n    _classCallCheck(this, BaseBlockstore);\n  }\n  _createClass(BaseBlockstore, [{\n    key: \"open\",\n    value:\n    /**\n     * @returns {Promise<void>}\n     */\n    function open() {\n      return Promise.reject(new Error('.open is not implemented'));\n    }\n\n    /**\n     * @returns {Promise<void>}\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      return Promise.reject(new Error('.close is not implemented'));\n    }\n\n    /**\n     * @param {CID} key\n     * @param {Uint8Array} val\n     * @param {Options} [options]\n     * @returns {Promise<void>}\n     */\n  }, {\n    key: \"put\",\n    value: function put(key, val, options) {\n      return Promise.reject(new Error('.put is not implemented'));\n    }\n\n    /**\n     * @param {CID} key\n     * @param {Options} [options]\n     * @returns {Promise<Uint8Array>}\n     */\n  }, {\n    key: \"get\",\n    value: function get(key, options) {\n      return Promise.reject(new Error('.get is not implemented'));\n    }\n\n    /**\n     * @param {CID} key\n     * @param {Options} [options]\n     * @returns {Promise<boolean>}\n     */\n  }, {\n    key: \"has\",\n    value: function has(key, options) {\n      return Promise.reject(new Error('.has is not implemented'));\n    }\n\n    /**\n     * @param {CID} key\n     * @param {Options} [options]\n     * @returns {Promise<void>}\n     */\n  }, {\n    key: \"delete\",\n    value: function _delete(key, options) {\n      return Promise.reject(new Error('.delete is not implemented'));\n    }\n\n    /**\n     * @param {AwaitIterable<Pair>} source\n     * @param {Options} [options]\n     * @returns {AsyncIterable<Pair>}\n     */\n  }, {\n    key: \"putMany\",\n    value: function putMany(source) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, _step$value, key, value;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _iteratorAbruptCompletion = false;\n              _didIteratorError = false;\n              _context2.prev = 2;\n              _iterator = _asyncIterator(source);\n            case 4:\n              _context2.next = 6;\n              return _awaitAsyncGenerator(_iterator.next());\n            case 6:\n              if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n                _context2.next = 15;\n                break;\n              }\n              _step$value = _step.value, key = _step$value.key, value = _step$value.value;\n              _context2.next = 10;\n              return _awaitAsyncGenerator(_this.put(key, value, options));\n            case 10:\n              _context2.next = 12;\n              return {\n                key: key,\n                value: value\n              };\n            case 12:\n              _iteratorAbruptCompletion = false;\n              _context2.next = 4;\n              break;\n            case 15:\n              _context2.next = 21;\n              break;\n            case 17:\n              _context2.prev = 17;\n              _context2.t0 = _context2[\"catch\"](2);\n              _didIteratorError = true;\n              _iteratorError = _context2.t0;\n            case 21:\n              _context2.prev = 21;\n              _context2.prev = 22;\n              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                _context2.next = 26;\n                break;\n              }\n              _context2.next = 26;\n              return _awaitAsyncGenerator(_iterator.return());\n            case 26:\n              _context2.prev = 26;\n              if (!_didIteratorError) {\n                _context2.next = 29;\n                break;\n              }\n              throw _iteratorError;\n            case 29:\n              return _context2.finish(26);\n            case 30:\n              return _context2.finish(21);\n            case 31:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[2, 17, 21, 31], [22,, 26, 30]]);\n      }))();\n    }\n\n    /**\n     * @param {AwaitIterable<CID>} source\n     * @param {Options} [options]\n     * @returns {AsyncIterable<Uint8Array>}\n     */\n  }, {\n    key: \"getMany\",\n    value: function getMany(source) {\n      var _this2 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _iteratorAbruptCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, key;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _iteratorAbruptCompletion2 = false;\n              _didIteratorError2 = false;\n              _context3.prev = 2;\n              _iterator2 = _asyncIterator(source);\n            case 4:\n              _context3.next = 6;\n              return _awaitAsyncGenerator(_iterator2.next());\n            case 6:\n              if (!(_iteratorAbruptCompletion2 = !(_step2 = _context3.sent).done)) {\n                _context3.next = 13;\n                break;\n              }\n              key = _step2.value;\n              _context3.next = 10;\n              return _this2.get(key, options);\n            case 10:\n              _iteratorAbruptCompletion2 = false;\n              _context3.next = 4;\n              break;\n            case 13:\n              _context3.next = 19;\n              break;\n            case 15:\n              _context3.prev = 15;\n              _context3.t0 = _context3[\"catch\"](2);\n              _didIteratorError2 = true;\n              _iteratorError2 = _context3.t0;\n            case 19:\n              _context3.prev = 19;\n              _context3.prev = 20;\n              if (!(_iteratorAbruptCompletion2 && _iterator2.return != null)) {\n                _context3.next = 24;\n                break;\n              }\n              _context3.next = 24;\n              return _awaitAsyncGenerator(_iterator2.return());\n            case 24:\n              _context3.prev = 24;\n              if (!_didIteratorError2) {\n                _context3.next = 27;\n                break;\n              }\n              throw _iteratorError2;\n            case 27:\n              return _context3.finish(24);\n            case 28:\n              return _context3.finish(19);\n            case 29:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[2, 15, 19, 29], [20,, 24, 28]]);\n      }))();\n    }\n\n    /**\n     * @param {AwaitIterable<CID>} source\n     * @param {Options} [options]\n     * @returns {AsyncIterable<CID>}\n     */\n  }, {\n    key: \"deleteMany\",\n    value: function deleteMany(source) {\n      var _this3 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _iteratorAbruptCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, key;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _iteratorAbruptCompletion3 = false;\n              _didIteratorError3 = false;\n              _context4.prev = 2;\n              _iterator3 = _asyncIterator(source);\n            case 4:\n              _context4.next = 6;\n              return _awaitAsyncGenerator(_iterator3.next());\n            case 6:\n              if (!(_iteratorAbruptCompletion3 = !(_step3 = _context4.sent).done)) {\n                _context4.next = 15;\n                break;\n              }\n              key = _step3.value;\n              _context4.next = 10;\n              return _awaitAsyncGenerator(_this3.delete(key, options));\n            case 10:\n              _context4.next = 12;\n              return key;\n            case 12:\n              _iteratorAbruptCompletion3 = false;\n              _context4.next = 4;\n              break;\n            case 15:\n              _context4.next = 21;\n              break;\n            case 17:\n              _context4.prev = 17;\n              _context4.t0 = _context4[\"catch\"](2);\n              _didIteratorError3 = true;\n              _iteratorError3 = _context4.t0;\n            case 21:\n              _context4.prev = 21;\n              _context4.prev = 22;\n              if (!(_iteratorAbruptCompletion3 && _iterator3.return != null)) {\n                _context4.next = 26;\n                break;\n              }\n              _context4.next = 26;\n              return _awaitAsyncGenerator(_iterator3.return());\n            case 26:\n              _context4.prev = 26;\n              if (!_didIteratorError3) {\n                _context4.next = 29;\n                break;\n              }\n              throw _iteratorError3;\n            case 29:\n              return _context4.finish(26);\n            case 30:\n              return _context4.finish(21);\n            case 31:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[2, 17, 21, 31], [22,, 26, 30]]);\n      }))();\n    }\n\n    /**\n     * @returns {Batch}\n     */\n  }, {\n    key: \"batch\",\n    value: function batch() {\n      var _this4 = this;\n      /** @type {Pair[]} */\n      var puts = [];\n      /** @type {CID[]} */\n      var dels = [];\n      return {\n        put: function put(key, value) {\n          puts.push({\n            key: key,\n            value: value\n          });\n        },\n        delete: function _delete(key) {\n          dels.push(key);\n        },\n        commit: function () {\n          var _commit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(options) {\n            return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n              while (1) switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.next = 2;\n                  return drain(_this4.putMany(puts, options));\n                case 2:\n                  puts = [];\n                  _context5.next = 5;\n                  return drain(_this4.deleteMany(dels, options));\n                case 5:\n                  dels = [];\n                case 6:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }, _callee5);\n          }));\n          function commit(_x) {\n            return _commit.apply(this, arguments);\n          }\n          return commit;\n        }()\n      };\n    }\n\n    /**\n     * Extending classes should override `query` or implement this method\n     *\n     * @param {Query} q\n     * @param {Options} [options]\n     * @returns {AsyncIterable<Pair>}\n     */\n    // eslint-disable-next-line require-yield\n  }, {\n    key: \"_all\",\n    value: function _all(q, options) {\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              throw new Error('._all is not implemented');\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6);\n      }))();\n    }\n\n    /**\n     * Extending classes should override `queryKeys` or implement this method\n     *\n     * @param {KeyQuery} q\n     * @param {Options} [options]\n     * @returns {AsyncIterable<CID>}\n     */\n    // eslint-disable-next-line require-yield\n  }, {\n    key: \"_allKeys\",\n    value: function _allKeys(q, options) {\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              throw new Error('._allKeys is not implemented');\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }))();\n    }\n\n    /**\n     * @param {Query} q\n     * @param {Options} [options]\n     */\n  }, {\n    key: \"query\",\n    value: function query(q, options) {\n      var it = this._all(q, options);\n      if (q.prefix != null) {\n        it = filter(it, function ( /** @type {Pair} */e) {\n          return e.key.toString().startsWith(q.prefix || '');\n        });\n      }\n      if (Array.isArray(q.filters)) {\n        it = q.filters.reduce(function (it, f) {\n          return filter(it, f);\n        }, it);\n      }\n      if (Array.isArray(q.orders)) {\n        it = q.orders.reduce(function (it, f) {\n          return sortAll(it, f);\n        }, it);\n      }\n      if (q.offset != null) {\n        var i = 0;\n        it = filter(it, function () {\n          return i++ >= (q.offset || 0);\n        });\n      }\n      if (q.limit != null) {\n        it = take(it, q.limit);\n      }\n      return it;\n    }\n\n    /**\n     * @param {KeyQuery} q\n     * @param {Options} [options]\n     */\n  }, {\n    key: \"queryKeys\",\n    value: function queryKeys(q, options) {\n      var it = this._allKeys(q, options);\n      if (q.prefix != null) {\n        it = filter(it, function ( /** @type {CID} */cid) {\n          return cid.toString().startsWith(q.prefix || '');\n        });\n      }\n      if (Array.isArray(q.filters)) {\n        it = q.filters.reduce(function (it, f) {\n          return filter(it, f);\n        }, it);\n      }\n      if (Array.isArray(q.orders)) {\n        it = q.orders.reduce(function (it, f) {\n          return sortAll(it, f);\n        }, it);\n      }\n      if (q.offset != null) {\n        var i = 0;\n        it = filter(it, function () {\n          return i++ >= /** @type {number} */q.offset;\n        });\n      }\n      if (q.limit != null) {\n        it = take(it, q.limit);\n      }\n      return it;\n    }\n  }]);\n  return BaseBlockstore;\n}();","map":{"version":3,"names":["drain","filter","take","all","sortAll","iterable","sorter","_wrapAsyncGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","_awaitAsyncGenerator","sent","delegateYield","_asyncGeneratorDelegate","_asyncIterator","sort","stop","BaseBlockstore","_classCallCheck","_createClass","key","value","open","Promise","reject","Error","close","put","val","options","get","has","_delete","putMany","source","_this","arguments","length","undefined","_callee2","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","_step$value","_callee2$","_context2","done","t0","return","finish","getMany","_this2","_callee3","_iteratorAbruptCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_callee3$","_context3","deleteMany","_this3","_callee4","_iteratorAbruptCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_callee4$","_context4","delete","batch","_this4","puts","dels","push","commit","_commit","_asyncToGenerator","_callee5","_callee5$","_context5","_x","apply","_all","q","_callee6","_callee6$","_context6","_allKeys","_callee7","_callee7$","_context7","query","it","prefix","e","toString","startsWith","Array","isArray","filters","reduce","f","orders","offset","i","limit","queryKeys","cid"],"sources":["/Users/apple/Documents/treasure/node_modules/blockstore-core/src/base.js"],"sourcesContent":["import drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nconst sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Batch} Batch\n *\n * @typedef {import('multiformats').CID} CID\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BaseBlockstore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {CID[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {Pair} */ e) =>\n        e.key.toString().startsWith(q.prefix || '')\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= (q.offset || 0))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {CID} */ cid) => cid.toString().startsWith(q.prefix || ''))\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,GAAG,MAAM,QAAQ;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,QAAQ,EAAEC,MAAM,EAAK;EACpC,OAAOC,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA;IAAA,IAAAC,MAAA;IAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAAAC,oBAAA,CACed,GAAG,CAACE,QAAQ,CAAC;QAAA;UAA5BM,MAAM,GAAAG,QAAA,CAAAI,IAAA;UACZ,OAAAJ,QAAA,CAAAK,aAAA,CAAAC,uBAAA,CAAAC,cAAA,CAAQV,MAAM,CAACW,IAAI,CAAChB,MAAM,CAAC,GAAAW,oBAAA;QAAA;QAAA;UAAA,OAAAH,QAAA,CAAAS,IAAA;MAAA;IAAA,GAAAb,OAAA;EAAA,CAC5B,GAAE,CAAC;AACN,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAac,cAAc;EAAA,SAAAA,eAAA;IAAAC,eAAA,OAAAD,cAAA;EAAA;EAAAE,YAAA,CAAAF,cAAA;IAAAG,GAAA;IAAAC,KAAA;IACzB;AACF;AACA;IACE,SAAAC,KAAA,EAAQ;MACN,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,0BAA0B,CAAC,CAAC;IAC9D;;IAEA;AACF;AACA;EAFE;IAAAL,GAAA;IAAAC,KAAA,EAGA,SAAAK,MAAA,EAAS;MACP,OAAOH,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC/D;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAL,GAAA;IAAAC,KAAA,EAMA,SAAAM,IAAKP,GAAG,EAAEQ,GAAG,EAAEC,OAAO,EAAE;MACtB,OAAON,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7D;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAL,GAAA;IAAAC,KAAA,EAKA,SAAAS,IAAKV,GAAG,EAAES,OAAO,EAAE;MACjB,OAAON,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7D;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAL,GAAA;IAAAC,KAAA,EAKA,SAAAU,IAAKX,GAAG,EAAES,OAAO,EAAE;MACjB,OAAON,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7D;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAL,GAAA;IAAAC,KAAA,EAKA,SAAAW,QAAQZ,GAAG,EAAES,OAAO,EAAE;MACpB,OAAON,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,4BAA4B,CAAC,CAAC;IAChE;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAL,GAAA;IAAAC,KAAA,EAKA,SAAAY,QAAiBC,MAAM,EAAgB;MAAA,IAAAC,KAAA;MAAA,IAAdN,OAAO,GAAAO,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MAAA,OAAApC,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAqC,SAAA;QAAA,IAAAC,yBAAA,EAAAC,iBAAA,EAAAC,cAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,WAAA,EAAAzB,GAAA,EAAAC,KAAA;QAAA,OAAApB,mBAAA,GAAAI,IAAA,UAAAyC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAvC,IAAA,GAAAuC,SAAA,CAAAtC,IAAA;YAAA;cAAA+B,yBAAA;cAAAC,iBAAA;cAAAM,SAAA,CAAAvC,IAAA;cAAAmC,SAAA,GAAA7B,cAAA,CACAoB,MAAM;YAAA;cAAAa,SAAA,CAAAtC,IAAA;cAAA,OAAAC,oBAAA,CAAAiC,SAAA,CAAAlC,IAAA;YAAA;cAAA,MAAA+B,yBAAA,KAAAI,KAAA,GAAAG,SAAA,CAAApC,IAAA,EAAAqC,IAAA;gBAAAD,SAAA,CAAAtC,IAAA;gBAAA;cAAA;cAAAoC,WAAA,GAAAD,KAAA,CAAAvB,KAAA,EAAtBD,GAAG,GAAAyB,WAAA,CAAHzB,GAAG,EAAEC,KAAK,GAAAwB,WAAA,CAALxB,KAAK;cAAA0B,SAAA,CAAAtC,IAAA;cAAA,OAAAC,oBAAA,CACrByB,KAAI,CAACR,GAAG,CAACP,GAAG,EAAEC,KAAK,EAAEQ,OAAO,CAAC;YAAA;cAAAkB,SAAA,CAAAtC,IAAA;cACnC,OAAM;gBAAEW,GAAG,EAAHA,GAAG;gBAAEC,KAAK,EAALA;cAAM,CAAC;YAAA;cAAAmB,yBAAA;cAAAO,SAAA,CAAAtC,IAAA;cAAA;YAAA;cAAAsC,SAAA,CAAAtC,IAAA;cAAA;YAAA;cAAAsC,SAAA,CAAAvC,IAAA;cAAAuC,SAAA,CAAAE,EAAA,GAAAF,SAAA;cAAAN,iBAAA;cAAAC,cAAA,GAAAK,SAAA,CAAAE,EAAA;YAAA;cAAAF,SAAA,CAAAvC,IAAA;cAAAuC,SAAA,CAAAvC,IAAA;cAAA,MAAAgC,yBAAA,IAAAG,SAAA,CAAAO,MAAA;gBAAAH,SAAA,CAAAtC,IAAA;gBAAA;cAAA;cAAAsC,SAAA,CAAAtC,IAAA;cAAA,OAAAC,oBAAA,CAAAiC,SAAA,CAAAO,MAAA;YAAA;cAAAH,SAAA,CAAAvC,IAAA;cAAA,KAAAiC,iBAAA;gBAAAM,SAAA,CAAAtC,IAAA;gBAAA;cAAA;cAAA,MAAAiC,cAAA;YAAA;cAAA,OAAAK,SAAA,CAAAI,MAAA;YAAA;cAAA,OAAAJ,SAAA,CAAAI,MAAA;YAAA;YAAA;cAAA,OAAAJ,SAAA,CAAA/B,IAAA;UAAA;QAAA,GAAAuB,QAAA;MAAA;IAExB;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAnB,GAAA;IAAAC,KAAA,EAKA,SAAA+B,QAAiBlB,MAAM,EAAgB;MAAA,IAAAmB,MAAA;MAAA,IAAdxB,OAAO,GAAAO,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MAAA,OAAApC,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAoD,SAAA;QAAA,IAAAC,0BAAA,EAAAC,kBAAA,EAAAC,eAAA,EAAAC,UAAA,EAAAC,MAAA,EAAAvC,GAAA;QAAA,OAAAnB,mBAAA,GAAAI,IAAA,UAAAuD,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAArD,IAAA,GAAAqD,SAAA,CAAApD,IAAA;YAAA;cAAA8C,0BAAA;cAAAC,kBAAA;cAAAK,SAAA,CAAArD,IAAA;cAAAkD,UAAA,GAAA5C,cAAA,CACXoB,MAAM;YAAA;cAAA2B,SAAA,CAAApD,IAAA;cAAA,OAAAC,oBAAA,CAAAgD,UAAA,CAAAjD,IAAA;YAAA;cAAA,MAAA8C,0BAAA,KAAAI,MAAA,GAAAE,SAAA,CAAAlD,IAAA,EAAAqC,IAAA;gBAAAa,SAAA,CAAApD,IAAA;gBAAA;cAAA;cAAbW,GAAG,GAAAuC,MAAA,CAAAtC,KAAA;cAAAwC,SAAA,CAAApD,IAAA;cAClB,OAAM4C,MAAI,CAACvB,GAAG,CAACV,GAAG,EAAES,OAAO,CAAC;YAAA;cAAA0B,0BAAA;cAAAM,SAAA,CAAApD,IAAA;cAAA;YAAA;cAAAoD,SAAA,CAAApD,IAAA;cAAA;YAAA;cAAAoD,SAAA,CAAArD,IAAA;cAAAqD,SAAA,CAAAZ,EAAA,GAAAY,SAAA;cAAAL,kBAAA;cAAAC,eAAA,GAAAI,SAAA,CAAAZ,EAAA;YAAA;cAAAY,SAAA,CAAArD,IAAA;cAAAqD,SAAA,CAAArD,IAAA;cAAA,MAAA+C,0BAAA,IAAAG,UAAA,CAAAR,MAAA;gBAAAW,SAAA,CAAApD,IAAA;gBAAA;cAAA;cAAAoD,SAAA,CAAApD,IAAA;cAAA,OAAAC,oBAAA,CAAAgD,UAAA,CAAAR,MAAA;YAAA;cAAAW,SAAA,CAAArD,IAAA;cAAA,KAAAgD,kBAAA;gBAAAK,SAAA,CAAApD,IAAA;gBAAA;cAAA;cAAA,MAAAgD,eAAA;YAAA;cAAA,OAAAI,SAAA,CAAAV,MAAA;YAAA;cAAA,OAAAU,SAAA,CAAAV,MAAA;YAAA;YAAA;cAAA,OAAAU,SAAA,CAAA7C,IAAA;UAAA;QAAA,GAAAsC,QAAA;MAAA;IAEhC;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAlC,GAAA;IAAAC,KAAA,EAKA,SAAAyC,WAAoB5B,MAAM,EAAgB;MAAA,IAAA6B,MAAA;MAAA,IAAdlC,OAAO,GAAAO,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MAAA,OAAApC,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAA8D,SAAA;QAAA,IAAAC,0BAAA,EAAAC,kBAAA,EAAAC,eAAA,EAAAC,UAAA,EAAAC,MAAA,EAAAjD,GAAA;QAAA,OAAAnB,mBAAA,GAAAI,IAAA,UAAAiE,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA/D,IAAA,GAAA+D,SAAA,CAAA9D,IAAA;YAAA;cAAAwD,0BAAA;cAAAC,kBAAA;cAAAK,SAAA,CAAA/D,IAAA;cAAA4D,UAAA,GAAAtD,cAAA,CACdoB,MAAM;YAAA;cAAAqC,SAAA,CAAA9D,IAAA;cAAA,OAAAC,oBAAA,CAAA0D,UAAA,CAAA3D,IAAA;YAAA;cAAA,MAAAwD,0BAAA,KAAAI,MAAA,GAAAE,SAAA,CAAA5D,IAAA,EAAAqC,IAAA;gBAAAuB,SAAA,CAAA9D,IAAA;gBAAA;cAAA;cAAbW,GAAG,GAAAiD,MAAA,CAAAhD,KAAA;cAAAkD,SAAA,CAAA9D,IAAA;cAAA,OAAAC,oBAAA,CACZqD,MAAI,CAACS,MAAM,CAACpD,GAAG,EAAES,OAAO,CAAC;YAAA;cAAA0C,SAAA,CAAA9D,IAAA;cAC/B,OAAMW,GAAG;YAAA;cAAA6C,0BAAA;cAAAM,SAAA,CAAA9D,IAAA;cAAA;YAAA;cAAA8D,SAAA,CAAA9D,IAAA;cAAA;YAAA;cAAA8D,SAAA,CAAA/D,IAAA;cAAA+D,SAAA,CAAAtB,EAAA,GAAAsB,SAAA;cAAAL,kBAAA;cAAAC,eAAA,GAAAI,SAAA,CAAAtB,EAAA;YAAA;cAAAsB,SAAA,CAAA/D,IAAA;cAAA+D,SAAA,CAAA/D,IAAA;cAAA,MAAAyD,0BAAA,IAAAG,UAAA,CAAAlB,MAAA;gBAAAqB,SAAA,CAAA9D,IAAA;gBAAA;cAAA;cAAA8D,SAAA,CAAA9D,IAAA;cAAA,OAAAC,oBAAA,CAAA0D,UAAA,CAAAlB,MAAA;YAAA;cAAAqB,SAAA,CAAA/D,IAAA;cAAA,KAAA0D,kBAAA;gBAAAK,SAAA,CAAA9D,IAAA;gBAAA;cAAA;cAAA,MAAA0D,eAAA;YAAA;cAAA,OAAAI,SAAA,CAAApB,MAAA;YAAA;cAAA,OAAAoB,SAAA,CAAApB,MAAA;YAAA;YAAA;cAAA,OAAAoB,SAAA,CAAAvD,IAAA;UAAA;QAAA,GAAAgD,QAAA;MAAA;IAEb;;IAEA;AACF;AACA;EAFE;IAAA5C,GAAA;IAAAC,KAAA,EAGA,SAAAoD,MAAA,EAAS;MAAA,IAAAC,MAAA;MACP;MACA,IAAIC,IAAI,GAAG,EAAE;MACb;MACA,IAAIC,IAAI,GAAG,EAAE;MAEb,OAAO;QACLjD,GAAG,WAAAA,IAAEP,GAAG,EAAEC,KAAK,EAAE;UACfsD,IAAI,CAACE,IAAI,CAAC;YAAEzD,GAAG,EAAHA,GAAG;YAAEC,KAAK,EAALA;UAAM,CAAC,CAAC;QAC3B,CAAC;QAEDmD,MAAM,WAAAxC,QAAEZ,GAAG,EAAE;UACXwD,IAAI,CAACC,IAAI,CAACzD,GAAG,CAAC;QAChB,CAAC;QACD0D,MAAM;UAAA,IAAAC,OAAA,GAAAC,iBAAA,eAAA/E,mBAAA,GAAAC,IAAA,CAAE,SAAA+E,SAAOpD,OAAO;YAAA,OAAA5B,mBAAA,GAAAI,IAAA,UAAA6E,UAAAC,SAAA;cAAA,kBAAAA,SAAA,CAAA3E,IAAA,GAAA2E,SAAA,CAAA1E,IAAA;gBAAA;kBAAA0E,SAAA,CAAA1E,IAAA;kBAAA,OACdhB,KAAK,CAACiF,MAAI,CAACzC,OAAO,CAAC0C,IAAI,EAAE9C,OAAO,CAAC,CAAC;gBAAA;kBACxC8C,IAAI,GAAG,EAAE;kBAAAQ,SAAA,CAAA1E,IAAA;kBAAA,OACHhB,KAAK,CAACiF,MAAI,CAACZ,UAAU,CAACc,IAAI,EAAE/C,OAAO,CAAC,CAAC;gBAAA;kBAC3C+C,IAAI,GAAG,EAAE;gBAAA;gBAAA;kBAAA,OAAAO,SAAA,CAAAnE,IAAA;cAAA;YAAA,GAAAiE,QAAA;UAAA,CACV;UAAA,SAAAH,OAAAM,EAAA;YAAA,OAAAL,OAAA,CAAAM,KAAA,OAAAjD,SAAA;UAAA;UAAA,OAAA0C,MAAA;QAAA;MACH,CAAC;IACH;;IAEA;AACF;AACA;AACA;AACA;AACA;AACA;IACE;EAAA;IAAA1D,GAAA;IAAAC,KAAA,EACA,SAAAiE,KAAcC,CAAC,EAAE1D,OAAO,EAAE;MAAA,OAAA7B,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAsF,SAAA;QAAA,OAAAvF,mBAAA,GAAAI,IAAA,UAAAoF,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlF,IAAA,GAAAkF,SAAA,CAAAjF,IAAA;YAAA;cAAA,MAClB,IAAIgB,KAAK,CAAC,0BAA0B,CAAC;YAAA;YAAA;cAAA,OAAAiE,SAAA,CAAA1E,IAAA;UAAA;QAAA,GAAAwE,QAAA;MAAA;IAC7C;;IAEA;AACF;AACA;AACA;AACA;AACA;AACA;IACE;EAAA;IAAApE,GAAA;IAAAC,KAAA,EACA,SAAAsE,SAAkBJ,CAAC,EAAE1D,OAAO,EAAE;MAAA,OAAA7B,mBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAA0F,SAAA;QAAA,OAAA3F,mBAAA,GAAAI,IAAA,UAAAwF,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAtF,IAAA,GAAAsF,SAAA,CAAArF,IAAA;YAAA;cAAA,MACtB,IAAIgB,KAAK,CAAC,8BAA8B,CAAC;YAAA;YAAA;cAAA,OAAAqE,SAAA,CAAA9E,IAAA;UAAA;QAAA,GAAA4E,QAAA;MAAA;IACjD;;IAEA;AACF;AACA;AACA;EAHE;IAAAxE,GAAA;IAAAC,KAAA,EAIA,SAAA0E,MAAOR,CAAC,EAAE1D,OAAO,EAAE;MACjB,IAAImE,EAAE,GAAG,IAAI,CAACV,IAAI,CAACC,CAAC,EAAE1D,OAAO,CAAC;MAE9B,IAAI0D,CAAC,CAACU,MAAM,IAAI,IAAI,EAAE;QACpBD,EAAE,GAAGtG,MAAM,CAACsG,EAAE,EAAE,WAAC,mBAAoBE,CAAC;UAAA,OACpCA,CAAC,CAAC9E,GAAG,CAAC+E,QAAQ,CAAC,CAAC,CAACC,UAAU,CAACb,CAAC,CAACU,MAAM,IAAI,EAAE,CAAC;QAAA,CAC7C,CAAC;MACH;MAEA,IAAII,KAAK,CAACC,OAAO,CAACf,CAAC,CAACgB,OAAO,CAAC,EAAE;QAC5BP,EAAE,GAAGT,CAAC,CAACgB,OAAO,CAACC,MAAM,CAAC,UAACR,EAAE,EAAES,CAAC;UAAA,OAAK/G,MAAM,CAACsG,EAAE,EAAES,CAAC,CAAC;QAAA,GAAET,EAAE,CAAC;MACrD;MAEA,IAAIK,KAAK,CAACC,OAAO,CAACf,CAAC,CAACmB,MAAM,CAAC,EAAE;QAC3BV,EAAE,GAAGT,CAAC,CAACmB,MAAM,CAACF,MAAM,CAAC,UAACR,EAAE,EAAES,CAAC;UAAA,OAAK5G,OAAO,CAACmG,EAAE,EAAES,CAAC,CAAC;QAAA,GAAET,EAAE,CAAC;MACrD;MAEA,IAAIT,CAAC,CAACoB,MAAM,IAAI,IAAI,EAAE;QACpB,IAAIC,CAAC,GAAG,CAAC;QACTZ,EAAE,GAAGtG,MAAM,CAACsG,EAAE,EAAE;UAAA,OAAMY,CAAC,EAAE,KAAKrB,CAAC,CAACoB,MAAM,IAAI,CAAC,CAAC;QAAA,EAAC;MAC/C;MAEA,IAAIpB,CAAC,CAACsB,KAAK,IAAI,IAAI,EAAE;QACnBb,EAAE,GAAGrG,IAAI,CAACqG,EAAE,EAAET,CAAC,CAACsB,KAAK,CAAC;MACxB;MAEA,OAAOb,EAAE;IACX;;IAEA;AACF;AACA;AACA;EAHE;IAAA5E,GAAA;IAAAC,KAAA,EAIA,SAAAyF,UAAWvB,CAAC,EAAE1D,OAAO,EAAE;MACrB,IAAImE,EAAE,GAAG,IAAI,CAACL,QAAQ,CAACJ,CAAC,EAAE1D,OAAO,CAAC;MAElC,IAAI0D,CAAC,CAACU,MAAM,IAAI,IAAI,EAAE;QACpBD,EAAE,GAAGtG,MAAM,CAACsG,EAAE,EAAE,WAAC,kBAAmBe,GAAG;UAAA,OAAKA,GAAG,CAACZ,QAAQ,CAAC,CAAC,CAACC,UAAU,CAACb,CAAC,CAACU,MAAM,IAAI,EAAE,CAAC;QAAA,EAAC;MACxF;MAEA,IAAII,KAAK,CAACC,OAAO,CAACf,CAAC,CAACgB,OAAO,CAAC,EAAE;QAC5BP,EAAE,GAAGT,CAAC,CAACgB,OAAO,CAACC,MAAM,CAAC,UAACR,EAAE,EAAES,CAAC;UAAA,OAAK/G,MAAM,CAACsG,EAAE,EAAES,CAAC,CAAC;QAAA,GAAET,EAAE,CAAC;MACrD;MAEA,IAAIK,KAAK,CAACC,OAAO,CAACf,CAAC,CAACmB,MAAM,CAAC,EAAE;QAC3BV,EAAE,GAAGT,CAAC,CAACmB,MAAM,CAACF,MAAM,CAAC,UAACR,EAAE,EAAES,CAAC;UAAA,OAAK5G,OAAO,CAACmG,EAAE,EAAES,CAAC,CAAC;QAAA,GAAET,EAAE,CAAC;MACrD;MAEA,IAAIT,CAAC,CAACoB,MAAM,IAAI,IAAI,EAAE;QACpB,IAAIC,CAAC,GAAG,CAAC;QACTZ,EAAE,GAAGtG,MAAM,CAACsG,EAAE,EAAE;UAAA,OAAMY,CAAC,EAAE,IAAI,qBAAuBrB,CAAC,CAACoB,MAAO;QAAA,EAAC;MAChE;MAEA,IAAIpB,CAAC,CAACsB,KAAK,IAAI,IAAI,EAAE;QACnBb,EAAE,GAAGrG,IAAI,CAACqG,EAAE,EAAET,CAAC,CAACsB,KAAK,CAAC;MACxB;MAEA,OAAOb,EAAE;IACX;EAAC;EAAA,OAAA/E,cAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}