{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./style.scss\";import{formatterUS}from\"../../../utils\";import{useSelector}from\"react-redux\";import{selectNftSelected}from\"redux/slice/nftSlice\";import{selectUser}from\"redux/slice/userSlice\";import{selectLoaderComponentActive}from\"redux/slice/loaderSlice\";import{selectClaimedBonusTotalReward,selectTotalTresrRewardsPerSec,selectTresrRewards,selectTresrRewardsPerSec}from\"redux/slice/rewardSlice\";import KeyRewardCard from\"storybook/molecule/KeyRewardCard/keyRewardCard\";import{jsx as _jsx}from\"react/jsx-runtime\";var DashboardKeyRewards=function DashboardKeyRewards(_ref){var onConnectWallet=_ref.onConnectWallet,onClaimBase=_ref.onClaimBase,onClaimAllBase=_ref.onClaimAllBase,isAnimated=_ref.isAnimated,isMobile=_ref.isMobile;var user=useSelector(selectUser);var loaderComponentActive=useSelector(selectLoaderComponentActive);var nftSelected=useSelector(selectNftSelected);var claimableTresrRewardsPerSec=useSelector(selectTresrRewardsPerSec);var claimableTotalTresrRewardsPerSec=useSelector(selectTotalTresrRewardsPerSec);var claimableTresrRewards=useSelector(selectTresrRewards);var claimedBonusTotalReward=useSelector(selectClaimedBonusTotalReward);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),balanceTresrRewards=_useState2[0],setBalanceTresrRewards=_useState2[1];var balanceMonthlyTresr=claimableTresrRewardsPerSec?claimableTresrRewardsPerSec*24*3600*30:0;var totalMonthlyBaseReward=claimableTotalTresrRewardsPerSec?claimableTotalTresrRewardsPerSec*24*3600*30:0;var tokenID=formatterUS(nftSelected===null||nftSelected===void 0?void 0:nftSelected.tokenId,0);var onClickClaimBaseRewards=function onClickClaimBaseRewards(){return!(user!==null&&user!==void 0&&user.wallet_id)?onConnectWallet():onClaimBase();};var onClickClaimAllBaseRewards=function onClickClaimAllBaseRewards(){return!(user!==null&&user!==void 0&&user.wallet_id)?onConnectWallet():onClaimAllBase();};useEffect(function(){setBalanceTresrRewards(+claimableTresrRewards);//setBalanceTresrRewardsAll(+allNfkeyStaked);\n},[claimableTresrRewards]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"dashboardKeyRewards \".concat(isAnimated?\"nft__image--placeholder dashboardKeyRewards__isAnimated\":\"\"),children:!isAnimated&&/*#__PURE__*/_jsx(KeyRewardCard,{isMobile:isMobile,nftSelected:nftSelected,tokenID:tokenID,loaderComponentActive:loaderComponentActive,totalMonthlyBaseReward:totalMonthlyBaseReward,claimedBonusTotalReward:claimedBonusTotalReward,onClickClaimAllBaseRewards:onClickClaimAllBaseRewards,balanceMonthlyTresr:balanceMonthlyTresr,balanceTresrRewards:balanceTresrRewards,onClickClaimBaseRewards:onClickClaimBaseRewards})});};export default DashboardKeyRewards;","map":{"version":3,"names":["React","useEffect","useState","formatterUS","useSelector","selectNftSelected","selectUser","selectLoaderComponentActive","selectClaimedBonusTotalReward","selectTotalTresrRewardsPerSec","selectTresrRewards","selectTresrRewardsPerSec","KeyRewardCard","jsx","_jsx","DashboardKeyRewards","_ref","onConnectWallet","onClaimBase","onClaimAllBase","isAnimated","isMobile","user","loaderComponentActive","nftSelected","claimableTresrRewardsPerSec","claimableTotalTresrRewardsPerSec","claimableTresrRewards","claimedBonusTotalReward","_useState","_useState2","_slicedToArray","balanceTresrRewards","setBalanceTresrRewards","balanceMonthlyTresr","totalMonthlyBaseReward","tokenID","tokenId","onClickClaimBaseRewards","wallet_id","onClickClaimAllBaseRewards","className","concat","children"],"sources":["/Users/apple/Documents/treasure/src/components/Dashboard/DashboardKeyRewards/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./style.scss\";\nimport { formatterUS } from \"../../../utils\";\nimport { useSelector } from \"react-redux\";\nimport { selectNftSelected } from \"redux/slice/nftSlice\";\nimport { selectUser } from \"redux/slice/userSlice\";\nimport { selectLoaderComponentActive } from \"redux/slice/loaderSlice\";\nimport {\n  selectClaimedBonusTotalReward,\n  selectTotalTresrRewardsPerSec,\n  selectTresrRewards,\n  selectTresrRewardsPerSec,\n} from \"redux/slice/rewardSlice\";\nimport KeyRewardCard from \"storybook/molecule/KeyRewardCard/keyRewardCard\";\n\nconst DashboardKeyRewards = ({\n  onConnectWallet,\n  onClaimBase,\n  onClaimAllBase,\n  isAnimated,\n  isMobile,\n}) => {\n  const user = useSelector(selectUser);\n  const loaderComponentActive = useSelector(selectLoaderComponentActive);\n  const nftSelected = useSelector(selectNftSelected);\n  const claimableTresrRewardsPerSec = useSelector(selectTresrRewardsPerSec);\n  const claimableTotalTresrRewardsPerSec = useSelector(\n    selectTotalTresrRewardsPerSec\n  );\n  const claimableTresrRewards = useSelector(selectTresrRewards);\n  const claimedBonusTotalReward = useSelector(selectClaimedBonusTotalReward);\n\n  const [balanceTresrRewards, setBalanceTresrRewards] = useState(0);\n  const balanceMonthlyTresr = claimableTresrRewardsPerSec\n    ? claimableTresrRewardsPerSec * 24 * 3600 * 30\n    : 0;\n  const totalMonthlyBaseReward = claimableTotalTresrRewardsPerSec\n    ? claimableTotalTresrRewardsPerSec * 24 * 3600 * 30\n    : 0;\n\n  const tokenID = formatterUS(nftSelected?.tokenId, 0);\n\n  const onClickClaimBaseRewards = () =>\n    !user?.wallet_id ? onConnectWallet() : onClaimBase();\n\n  const onClickClaimAllBaseRewards = () =>\n    !user?.wallet_id ? onConnectWallet() : onClaimAllBase();\n\n  useEffect(() => {\n    setBalanceTresrRewards(+claimableTresrRewards);\n    //setBalanceTresrRewardsAll(+allNfkeyStaked);\n  }, [claimableTresrRewards]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div\n      className={`dashboardKeyRewards ${\n        isAnimated\n          ? \"nft__image--placeholder dashboardKeyRewards__isAnimated\"\n          : \"\"\n      }`}\n    >\n      {!isAnimated && (\n        <KeyRewardCard\n          isMobile={isMobile}\n          nftSelected={nftSelected}\n          tokenID={tokenID}\n          loaderComponentActive={loaderComponentActive}\n          totalMonthlyBaseReward={totalMonthlyBaseReward}\n          claimedBonusTotalReward={claimedBonusTotalReward}\n          onClickClaimAllBaseRewards={onClickClaimAllBaseRewards}\n          balanceMonthlyTresr={balanceMonthlyTresr}\n          balanceTresrRewards={balanceTresrRewards}\n          onClickClaimBaseRewards={onClickClaimBaseRewards}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default DashboardKeyRewards;\n"],"mappings":"qHAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,cAAc,CACrB,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,iBAAiB,KAAQ,sBAAsB,CACxD,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,2BAA2B,KAAQ,yBAAyB,CACrE,OACEC,6BAA6B,CAC7BC,6BAA6B,CAC7BC,kBAAkB,CAClBC,wBAAwB,KACnB,yBAAyB,CAChC,MAAO,CAAAC,aAAa,KAAM,gDAAgD,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3E,GAAM,CAAAC,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAMnB,IALJ,CAAAC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CACfC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CACXC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACdC,UAAU,CAAAJ,IAAA,CAAVI,UAAU,CACVC,QAAQ,CAAAL,IAAA,CAARK,QAAQ,CAER,GAAM,CAAAC,IAAI,CAAGlB,WAAW,CAACE,UAAU,CAAC,CACpC,GAAM,CAAAiB,qBAAqB,CAAGnB,WAAW,CAACG,2BAA2B,CAAC,CACtE,GAAM,CAAAiB,WAAW,CAAGpB,WAAW,CAACC,iBAAiB,CAAC,CAClD,GAAM,CAAAoB,2BAA2B,CAAGrB,WAAW,CAACO,wBAAwB,CAAC,CACzE,GAAM,CAAAe,gCAAgC,CAAGtB,WAAW,CAClDK,6BACF,CAAC,CACD,GAAM,CAAAkB,qBAAqB,CAAGvB,WAAW,CAACM,kBAAkB,CAAC,CAC7D,GAAM,CAAAkB,uBAAuB,CAAGxB,WAAW,CAACI,6BAA6B,CAAC,CAE1E,IAAAqB,SAAA,CAAsD3B,QAAQ,CAAC,CAAC,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1DG,mBAAmB,CAAAF,UAAA,IAAEG,sBAAsB,CAAAH,UAAA,IAClD,GAAM,CAAAI,mBAAmB,CAAGT,2BAA2B,CACnDA,2BAA2B,CAAG,EAAE,CAAG,IAAI,CAAG,EAAE,CAC5C,CAAC,CACL,GAAM,CAAAU,sBAAsB,CAAGT,gCAAgC,CAC3DA,gCAAgC,CAAG,EAAE,CAAG,IAAI,CAAG,EAAE,CACjD,CAAC,CAEL,GAAM,CAAAU,OAAO,CAAGjC,WAAW,CAACqB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEa,OAAO,CAAE,CAAC,CAAC,CAEpD,GAAM,CAAAC,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAA,QAC3B,EAAChB,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEiB,SAAS,EAAGtB,eAAe,CAAC,CAAC,CAAGC,WAAW,CAAC,CAAC,GAEtD,GAAM,CAAAsB,0BAA0B,CAAG,QAA7B,CAAAA,0BAA0BA,CAAA,QAC9B,EAAClB,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEiB,SAAS,EAAGtB,eAAe,CAAC,CAAC,CAAGE,cAAc,CAAC,CAAC,GAEzDlB,SAAS,CAAC,UAAM,CACdgC,sBAAsB,CAAC,CAACN,qBAAqB,CAAC,CAC9C;AACF,CAAC,CAAE,CAACA,qBAAqB,CAAC,CAAC,CAAE;AAE7B,mBACEb,IAAA,QACE2B,SAAS,wBAAAC,MAAA,CACPtB,UAAU,CACN,yDAAyD,CACzD,EAAE,CACL,CAAAuB,QAAA,CAEF,CAACvB,UAAU,eACVN,IAAA,CAACF,aAAa,EACZS,QAAQ,CAAEA,QAAS,CACnBG,WAAW,CAAEA,WAAY,CACzBY,OAAO,CAAEA,OAAQ,CACjBb,qBAAqB,CAAEA,qBAAsB,CAC7CY,sBAAsB,CAAEA,sBAAuB,CAC/CP,uBAAuB,CAAEA,uBAAwB,CACjDY,0BAA0B,CAAEA,0BAA2B,CACvDN,mBAAmB,CAAEA,mBAAoB,CACzCF,mBAAmB,CAAEA,mBAAoB,CACzCM,uBAAuB,CAAEA,uBAAwB,CAClD,CACF,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}