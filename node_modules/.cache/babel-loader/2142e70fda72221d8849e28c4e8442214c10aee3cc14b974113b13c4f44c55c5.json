{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ethers}from\"ethers\";import{useContractNFKeyStakingWithSigner}from\"hooks/blockchain/useHandleContracts\";import{hexToNumber}from\"utils/blockchain\";import useGetTresrRewardsBalance from\"./useGetTresrRewardsBalance\";export default function useCalcRewards(){var handleGetTresrRewardsBalance=useGetTresrRewardsBalance();var handleContractNFKeyStakingWithSigner=useContractNFKeyStakingWithSigner();var calcRewards=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(tokenId){var count,contractNFKeyStakingWithSigner,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:count=_args.length>1&&_args[1]!==undefined?_args[1]:3;_context.next=3;return handleContractNFKeyStakingWithSigner;case 3:contractNFKeyStakingWithSigner=_context.sent;return _context.abrupt(\"return\",contractNFKeyStakingWithSigner.calcRewards(tokenId).then(function(tx){var _hexToNumber;return+ethers.utils.formatEther((_hexToNumber=hexToNumber(tx===null||tx===void 0?void 0:tx._hex))===null||_hexToNumber===void 0?void 0:_hexToNumber.toString());}).catch(function(){return count?handleGetTresrRewardsBalance.getTresrRewardsBalance(tokenId,count-1):null;}));case 5:case\"end\":return _context.stop();}},_callee);}));return function calcRewards(_x){return _ref.apply(this,arguments);};}();return{calcRewards:calcRewards};}","map":{"version":3,"names":["ethers","useContractNFKeyStakingWithSigner","hexToNumber","useGetTresrRewardsBalance","useCalcRewards","handleGetTresrRewardsBalance","handleContractNFKeyStakingWithSigner","calcRewards","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tokenId","count","contractNFKeyStakingWithSigner","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","sent","abrupt","then","tx","_hexToNumber","utils","formatEther","_hex","toString","catch","getTresrRewardsBalance","stop","_x","apply"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useCalcRewards.js"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useContractNFKeyStakingWithSigner } from \"hooks/blockchain/useHandleContracts\";\nimport { hexToNumber } from \"utils/blockchain\";\nimport useGetTresrRewardsBalance from \"./useGetTresrRewardsBalance\";\n\nexport default function useCalcRewards() {\n  const handleGetTresrRewardsBalance = useGetTresrRewardsBalance();\n  const handleContractNFKeyStakingWithSigner =\n    useContractNFKeyStakingWithSigner();\n  const calcRewards = async (tokenId, count = 3) => {\n    const contractNFKeyStakingWithSigner =\n      await handleContractNFKeyStakingWithSigner;\n    return contractNFKeyStakingWithSigner\n      .calcRewards(tokenId)\n      .then(\n        (tx) => +ethers.utils.formatEther(hexToNumber(tx?._hex)?.toString())\n      )\n      .catch(() =>\n        count\n          ? handleGetTresrRewardsBalance.getTresrRewardsBalance(\n              tokenId,\n              count - 1\n            )\n          : null\n      );\n  };\n  return { calcRewards };\n}\n"],"mappings":"0PAAA,OAASA,MAAM,KAAQ,QAAQ,CAC/B,OAASC,iCAAiC,KAAQ,qCAAqC,CACvF,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,yBAAyB,KAAM,6BAA6B,CAEnE,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,GAAM,CAAAC,4BAA4B,CAAGF,yBAAyB,CAAC,CAAC,CAChE,GAAM,CAAAG,oCAAoC,CACxCL,iCAAiC,CAAC,CAAC,CACrC,GAAM,CAAAM,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,OAAO,MAAAC,KAAA,CAAAC,8BAAA,CAAAC,KAAA,CAAAC,SAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAER,KAAK,CAAAE,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,CAAC,CAAAI,QAAA,CAAAE,IAAA,SAEnC,CAAAhB,oCAAoC,QADtCS,8BAA8B,CAAAK,QAAA,CAAAK,IAAA,QAAAL,QAAA,CAAAM,MAAA,UAE7BX,8BAA8B,CAClCR,WAAW,CAACM,OAAO,CAAC,CACpBc,IAAI,CACH,SAACC,EAAE,MAAAC,YAAA,OAAK,CAAC7B,MAAM,CAAC8B,KAAK,CAACC,WAAW,EAAAF,YAAA,CAAC3B,WAAW,CAAC0B,EAAE,SAAFA,EAAE,iBAAFA,EAAE,CAAEI,IAAI,CAAC,UAAAH,YAAA,iBAArBA,YAAA,CAAuBI,QAAQ,CAAC,CAAC,CAAC,EACtE,CAAC,CACAC,KAAK,CAAC,iBACL,CAAApB,KAAK,CACDT,4BAA4B,CAAC8B,sBAAsB,CACjDtB,OAAO,CACPC,KAAK,CAAG,CACV,CAAC,CACD,IAAI,EACV,CAAC,0BAAAM,QAAA,CAAAgB,IAAA,MAAAxB,OAAA,GACJ,kBAhBK,CAAAL,WAAWA,CAAA8B,EAAA,SAAA7B,IAAA,CAAA8B,KAAA,MAAArB,SAAA,OAgBhB,CACD,MAAO,CAAEV,WAAW,CAAXA,WAAY,CAAC,CACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}