{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import AirdropApi from\"api/AirdropApi\";import{useDispatch,useSelector}from\"react-redux\";import ACTIONS from\"redux/action\";import{selectUser}from\"redux/slice/userSlice\";import useBalanceOfSMRTR from\"./useBalanceOfSMRTR\";import useGetAVAXBalance from\"./useGetAVAXBalance\";import{useContractSmarterCoinWithSigner}from\"hooks/blockchain/useHandleContracts\";export default function useGetFreeSMRTR(){var dispatch=useDispatch();var user=useSelector(selectUser);var handleBalanceOfSMRTR=useBalanceOfSMRTR();var handleGetAVAXBalance=useGetAVAXBalance();var handleContractSmarterCoinWithSigner=useContractSmarterCoinWithSigner();var getFreeSMRTR=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var contractSmarterCoinWithSigner;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return handleContractSmarterCoinWithSigner;case 2:contractSmarterCoinWithSigner=_context2.sent;_context2.next=5;return contractSmarterCoinWithSigner.faucet(user===null||user===void 0?void 0:user.wallet_id).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(tx){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:new AirdropApi().logger({wallet_id:user===null||user===void 0?void 0:user.wallet_id,action:\"getFreeSMRTR\",type:\"PENDING\",description:\"Faucet called\",tx:JSON.stringify(tx)});_context.next=3;return tx.wait();case 3:// await sleep(15);\nACTIONS.SET_TRANSANCTION_HASH(dispatch,tx===null||tx===void 0?void 0:tx.hash);handleBalanceOfSMRTR.balanceOfSMRTR(user===null||user===void 0?void 0:user.wallet_id);handleGetAVAXBalance.getAVAXBalance(user===null||user===void 0?void 0:user.wallet_id);case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){new AirdropApi().logger({wallet_id:user===null||user===void 0?void 0:user.wallet_id,action:\"getFreeSMRTR\",type:\"ERROR\",error:JSON.stringify(err)});return null;});case 5:case\"end\":return _context2.stop();}},_callee2);}));return function getFreeSMRTR(){return _ref.apply(this,arguments);};}();return{getFreeSMRTR:getFreeSMRTR};}","map":{"version":3,"names":["AirdropApi","useDispatch","useSelector","ACTIONS","selectUser","useBalanceOfSMRTR","useGetAVAXBalance","useContractSmarterCoinWithSigner","useGetFreeSMRTR","dispatch","user","handleBalanceOfSMRTR","handleGetAVAXBalance","handleContractSmarterCoinWithSigner","getFreeSMRTR","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","contractSmarterCoinWithSigner","wrap","_callee2$","_context2","prev","next","sent","faucet","wallet_id","then","_ref2","_callee","tx","_callee$","_context","logger","action","type","description","JSON","stringify","wait","SET_TRANSANCTION_HASH","hash","balanceOfSMRTR","getAVAXBalance","stop","_x","apply","arguments","catch","err","error"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useGetFreeSMRTR.js"],"sourcesContent":["import AirdropApi from \"api/AirdropApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\nimport { selectUser } from \"redux/slice/userSlice\";\nimport useBalanceOfSMRTR from \"./useBalanceOfSMRTR\";\nimport useGetAVAXBalance from \"./useGetAVAXBalance\";\nimport { useContractSmarterCoinWithSigner } from \"hooks/blockchain/useHandleContracts\";\n\nexport default function useGetFreeSMRTR() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const handleBalanceOfSMRTR = useBalanceOfSMRTR();\n  const handleGetAVAXBalance = useGetAVAXBalance();\n  const handleContractSmarterCoinWithSigner =\n    useContractSmarterCoinWithSigner();\n\n  const getFreeSMRTR = async () => {\n    const contractSmarterCoinWithSigner =\n      await handleContractSmarterCoinWithSigner;\n    await contractSmarterCoinWithSigner\n      .faucet(user?.wallet_id)\n      .then(async (tx) => {\n        new AirdropApi().logger({\n          wallet_id: user?.wallet_id,\n          action: \"getFreeSMRTR\",\n          type: \"PENDING\",\n          description: \"Faucet called\",\n          tx: JSON.stringify(tx),\n        });\n        await tx.wait();\n        // await sleep(15);\n        ACTIONS.SET_TRANSANCTION_HASH(dispatch, tx?.hash);\n        handleBalanceOfSMRTR.balanceOfSMRTR(user?.wallet_id);\n        handleGetAVAXBalance.getAVAXBalance(user?.wallet_id);\n      })\n      .catch((err) => {\n        new AirdropApi().logger({\n          wallet_id: user?.wallet_id,\n          action: \"getFreeSMRTR\",\n          type: \"ERROR\",\n          error: JSON.stringify(err),\n        });\n\n        return null;\n      });\n  };\n  return { getFreeSMRTR };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}