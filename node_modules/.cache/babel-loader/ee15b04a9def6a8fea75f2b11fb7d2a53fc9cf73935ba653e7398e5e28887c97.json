{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import HeaderBar from\"../../components/HeaderBar\";import useEffectFirstLoad from\"../../hooks/useFirstLoad\";import{useLocation}from\"react-router-dom\";import NavBar from\"../../components/NavBar\";import React from\"react\";import Footer from\"../../components/Footer\";import CustomAlert from\"../../components/common/CustomAlert\";import useFaucet from\"../../hooks/blockchain/useFaucet\";import TransactionLoadingModal from\"../../components/common/Modals/TransactionLoadingModal\";import useHandleModal from\"../../hooks/dom/useHandleModal\";import InputRange from\"../../components/common/InputRange\";import useWindowDimensions from\"hooks/useWidowDimensions\";import{useSelector}from\"react-redux\";import{selectUser}from\"redux/slice/userSlice\";import{selectLoaderComponentActive,selectLoaderIsActive,selectLoaderOpacityLevel}from\"redux/slice/loaderSlice\";import{selectScaleIsActive}from\"redux/slice/scaleSlice\";import Faucet from\"storybook/molecule/Faucet/faucet\";import Loader from\"storybook/atom/Loader/loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserLayout(_ref){var _location$pathname,_location$pathname2,_location$pathname3;var children=_ref.children;var user=useSelector(selectUser);var scaleIsActive=useSelector(selectScaleIsActive);var loaderIsActive=useSelector(selectLoaderIsActive);var loaderComponentActive=useSelector(selectLoaderComponentActive);var loaderOpacity=useSelector(selectLoaderOpacityLevel);var location=useLocation();var faucet=useFaucet();var handleTransactionLoadingModal=useHandleModal();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showFaucet=_useState2[0],toggleFaucet=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAccountOpen=_useState4[0],setIsAccountOpen=_useState4[1];var isHomePage=(location===null||location===void 0?void 0:location.pathname)===\"/\";var isCollectionPage=location===null||location===void 0?void 0:(_location$pathname=location.pathname)===null||_location$pathname===void 0?void 0:_location$pathname.includes(\"collections\");var isAccountPage=location===null||location===void 0?void 0:(_location$pathname2=location.pathname)===null||_location$pathname2===void 0?void 0:_location$pathname2.includes(\"account\");var isGame=location===null||location===void 0?void 0:(_location$pathname3=location.pathname)===null||_location$pathname3===void 0?void 0:_location$pathname3.includes(\"game\");var windowParams=useWindowDimensions();var isMobile=(windowParams===null||windowParams===void 0?void 0:windowParams.width)<=850;var handleToggleFaucet=function handleToggleFaucet(){return toggleFaucet(!showFaucet);};var onGetTresr=function onGetTresr(){handleTransactionLoadingModal.open();faucet.getTRESR().finally(function(){return handleTransactionLoadingModal.close();});};var onGetSmrtr=function onGetSmrtr(){handleTransactionLoadingModal.open();faucet.getSMRTR().finally(function(){return handleTransactionLoadingModal.close();});};var onGetTresrLP=function onGetTresrLP(){handleTransactionLoadingModal.open();faucet.getTRESRLP().finally(function(){return handleTransactionLoadingModal.close();});};var onGetSmrtrLP=function onGetSmrtrLP(){handleTransactionLoadingModal.open();faucet.getSMRTRLP().finally(function(){return handleTransactionLoadingModal.close();});};useEffectFirstLoad();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"layout-wrapper\",children:[loaderComponentActive&&/*#__PURE__*/_jsx(\"div\",{className:\"w-screen h-screen bg-[#ffffff10] fixed left-0 top-0 z-50\",children:/*#__PURE__*/_jsx(Loader,{variant:\"pageLoader\",isLoaderActive:true,opacityLevel:0,customClass:\"mt-[30rem]\"})}),/*#__PURE__*/_jsx(HeaderBar,{setIsAccountOpen:setIsAccountOpen,isAccountOpen:isAccountOpen}),/*#__PURE__*/_jsx(CustomAlert,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content main-content__bg\",children:[!isHomePage&&!loaderIsActive&&/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:children})]}),/*#__PURE__*/_jsx(Footer,{}),isGame&&loaderIsActive&&/*#__PURE__*/_jsx(Loader,{variant:\"fullPageLoader\",isLoaderActive:loaderIsActive,opacityLevel:loaderOpacity}),scaleIsActive&&(isCollectionPage||isAccountPage)&&/*#__PURE__*/_jsx(\"div\",{className:\"main__range\",children:/*#__PURE__*/_jsx(InputRange,{})}),!isMobile&&/*#__PURE__*/_jsx(\"div\",{className:\"footerFaucet\",children:/*#__PURE__*/_jsx(Faucet,{user:user,showFaucet:showFaucet,handleToggleFaucet:handleToggleFaucet,onGetTresr:onGetTresr,onGetSmrtr:onGetSmrtr,onGetTresrLP:onGetTresrLP,onGetSmrtrLP:onGetSmrtrLP})}),(handleTransactionLoadingModal===null||handleTransactionLoadingModal===void 0?void 0:handleTransactionLoadingModal.isActive)&&/*#__PURE__*/_jsx(TransactionLoadingModal,{isOpen:handleTransactionLoadingModal===null||handleTransactionLoadingModal===void 0?void 0:handleTransactionLoadingModal.isActive})]})});}","map":{"version":3,"names":["useEffect","useState","HeaderBar","useEffectFirstLoad","useLocation","NavBar","React","Footer","CustomAlert","useFaucet","TransactionLoadingModal","useHandleModal","InputRange","useWindowDimensions","useSelector","selectUser","selectLoaderComponentActive","selectLoaderIsActive","selectLoaderOpacityLevel","selectScaleIsActive","Faucet","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserLayout","_ref","_location$pathname","_location$pathname2","_location$pathname3","children","user","scaleIsActive","loaderIsActive","loaderComponentActive","loaderOpacity","location","faucet","handleTransactionLoadingModal","_useState","_useState2","_slicedToArray","showFaucet","toggleFaucet","_useState3","_useState4","isAccountOpen","setIsAccountOpen","isHomePage","pathname","isCollectionPage","includes","isAccountPage","isGame","windowParams","isMobile","width","handleToggleFaucet","onGetTresr","open","getTRESR","finally","close","onGetSmrtr","getSMRTR","onGetTresrLP","getTRESRLP","onGetSmrtrLP","getSMRTRLP","id","className","variant","isLoaderActive","opacityLevel","customClass","isActive","isOpen"],"sources":["/Users/apple/Documents/treasure/src/layouts/UserLayout/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport HeaderBar from \"../../components/HeaderBar\";\nimport useEffectFirstLoad from \"../../hooks/useFirstLoad\";\nimport { useLocation } from \"react-router-dom\";\nimport NavBar from \"../../components/NavBar\";\nimport React from \"react\";\nimport Footer from \"../../components/Footer\";\nimport CustomAlert from \"../../components/common/CustomAlert\";\nimport useFaucet from \"../../hooks/blockchain/useFaucet\";\nimport TransactionLoadingModal from \"../../components/common/Modals/TransactionLoadingModal\";\nimport useHandleModal from \"../../hooks/dom/useHandleModal\";\nimport InputRange from \"../../components/common/InputRange\";\nimport useWindowDimensions from \"hooks/useWidowDimensions\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"redux/slice/userSlice\";\nimport {\n  selectLoaderComponentActive,\n  selectLoaderIsActive,\n  selectLoaderOpacityLevel,\n} from \"redux/slice/loaderSlice\";\nimport { selectScaleIsActive } from \"redux/slice/scaleSlice\";\nimport Faucet from \"storybook/molecule/Faucet/faucet\";\nimport Loader from \"storybook/atom/Loader/loader\";\n\nexport default function UserLayout({ children }) {\n  const user = useSelector(selectUser);\n  const scaleIsActive = useSelector(selectScaleIsActive);\n  const loaderIsActive = useSelector(selectLoaderIsActive);\n  const loaderComponentActive = useSelector(selectLoaderComponentActive);\n  const loaderOpacity = useSelector(selectLoaderOpacityLevel);\n  const location = useLocation();\n  const faucet = useFaucet();\n  const handleTransactionLoadingModal = useHandleModal();\n  const [showFaucet, toggleFaucet] = useState(false);\n  const [isAccountOpen, setIsAccountOpen] = useState(false);\n\n  const isHomePage = location?.pathname === \"/\";\n  const isCollectionPage = location?.pathname?.includes(\"collections\");\n  const isAccountPage = location?.pathname?.includes(\"account\");\n  const isGame = location?.pathname?.includes(\"game\");\n  const windowParams = useWindowDimensions();\n  const isMobile = windowParams?.width <= 850;\n\n  const handleToggleFaucet = () => toggleFaucet(!showFaucet);\n\n  const onGetTresr = () => {\n    handleTransactionLoadingModal.open();\n    faucet.getTRESR().finally(() => handleTransactionLoadingModal.close());\n  };\n  const onGetSmrtr = () => {\n    handleTransactionLoadingModal.open();\n    faucet.getSMRTR().finally(() => handleTransactionLoadingModal.close());\n  };\n  const onGetTresrLP = () => {\n    handleTransactionLoadingModal.open();\n    faucet.getTRESRLP().finally(() => handleTransactionLoadingModal.close());\n  };\n  const onGetSmrtrLP = () => {\n    handleTransactionLoadingModal.open();\n    faucet.getSMRTRLP().finally(() => handleTransactionLoadingModal.close());\n  };\n\n  useEffectFirstLoad();\n\n  return (\n    <>\n      <div id=\"layout-wrapper\">\n        {loaderComponentActive && (\n          <div className=\"w-screen h-screen bg-[#ffffff10] fixed left-0 top-0 z-50\">\n            <Loader\n              variant=\"pageLoader\"\n              isLoaderActive={true}\n              opacityLevel={0}\n              customClass=\"mt-[30rem]\"\n            />\n          </div>\n        )}\n        <HeaderBar\n          setIsAccountOpen={setIsAccountOpen}\n          isAccountOpen={isAccountOpen}\n        />\n        <CustomAlert />\n        <div className={`main-content main-content__bg`}>\n          {!isHomePage && !loaderIsActive && <NavBar />}\n          <div className=\"page-content\">{children}</div>\n        </div>\n        <Footer />\n        {isGame && loaderIsActive && (\n          <Loader\n            variant=\"fullPageLoader\"\n            isLoaderActive={loaderIsActive}\n            opacityLevel={loaderOpacity}\n          />\n        )}\n        {scaleIsActive && (isCollectionPage || isAccountPage) && (\n          <div className=\"main__range\">\n            <InputRange />\n          </div>\n        )}\n        {!isMobile && (\n          <div className=\"footerFaucet\">\n            <Faucet\n              user={user}\n              showFaucet={showFaucet}\n              handleToggleFaucet={handleToggleFaucet}\n              onGetTresr={onGetTresr}\n              onGetSmrtr={onGetSmrtr}\n              onGetTresrLP={onGetTresrLP}\n              onGetSmrtrLP={onGetSmrtrLP}\n            />\n          </div>\n        )}\n        {handleTransactionLoadingModal?.isActive && (\n          <TransactionLoadingModal\n            isOpen={handleTransactionLoadingModal?.isActive}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}