{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useDispatch}from\"react-redux\";import{ethers}from\"ethers\";import ACTIONS from\"redux/action\";import{hexToNumber}from\"utils/blockchain\";import{useContractLpCoinTRESRAVAXWithSigner,useContractLpStakingTRESRAVAXWithSigner,useContractSmarterCoinWithSigner,useContractTresrCoinWithSigner}from\"hooks/blockchain/useHandleContracts\";export default function useUpdateProfileBalance(){var dispatch=useDispatch();var handleContractLpCoinTRESRAVAXWithSigner=useContractLpCoinTRESRAVAXWithSigner();var handleContractLpStakingTRESRAVAXWithSigner=useContractLpStakingTRESRAVAXWithSigner();var handleContractSmarterCoinWithSigner=useContractSmarterCoinWithSigner();var handleContractTresrCoinWithSigner=useContractTresrCoinWithSigner();var updateProfileBalance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(address){var count,provider,contractSmarterCoinWithSigner,contractTresrCoinWithSigner,contractLpCoinTRESRAVAXWithSigner,contractLpStakingTRESRAVAXWithSigner,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:count=_args.length>1&&_args[1]!==undefined?_args[1]:3;provider=new ethers.providers.Web3Provider(window.ethereum);_context.next=4;return handleContractSmarterCoinWithSigner;case 4:contractSmarterCoinWithSigner=_context.sent;_context.next=7;return handleContractTresrCoinWithSigner;case 7:contractTresrCoinWithSigner=_context.sent;_context.next=10;return handleContractLpCoinTRESRAVAXWithSigner;case 10:contractLpCoinTRESRAVAXWithSigner=_context.sent;_context.next=13;return handleContractLpStakingTRESRAVAXWithSigner;case 13:contractLpStakingTRESRAVAXWithSigner=_context.sent;Promise.all([contractSmarterCoinWithSigner.balanceOf(address),contractTresrCoinWithSigner.balanceOf(address),provider.getBalance(address),contractLpCoinTRESRAVAXWithSigner.balanceOf(address),contractLpStakingTRESRAVAXWithSigner.stakedBalanceOf(address)]).then(function(res){ACTIONS.SET_BALANCE_SMRTR(dispatch,hexToNumber(res[0]._hex)/Math.pow(10,18));ACTIONS.SET_BALANCE_TRESR(dispatch,hexToNumber(res[1]._hex)/Math.pow(10,18));ACTIONS.SET_BALANCE_AVAX(dispatch,+ethers.utils.formatEther(res[2]));ACTIONS.SET_BALANCE_LP_TRESRAVAX(dispatch,hexToNumber(res[3]._hex)/Math.pow(10,18));ACTIONS.SET_BALANCE_LP_STAKED_TRESRAVAX(dispatch,hexToNumber(res[4]._hex)/Math.pow(10,18));});case 15:case\"end\":return _context.stop();}},_callee);}));return function updateProfileBalance(_x){return _ref.apply(this,arguments);};}();return{updateProfileBalance:updateProfileBalance};}","map":{"version":3,"names":["useDispatch","ethers","ACTIONS","hexToNumber","useContractLpCoinTRESRAVAXWithSigner","useContractLpStakingTRESRAVAXWithSigner","useContractSmarterCoinWithSigner","useContractTresrCoinWithSigner","useUpdateProfileBalance","dispatch","handleContractLpCoinTRESRAVAXWithSigner","handleContractLpStakingTRESRAVAXWithSigner","handleContractSmarterCoinWithSigner","handleContractTresrCoinWithSigner","updateProfileBalance","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","address","count","provider","contractSmarterCoinWithSigner","contractTresrCoinWithSigner","contractLpCoinTRESRAVAXWithSigner","contractLpStakingTRESRAVAXWithSigner","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","providers","Web3Provider","window","ethereum","sent","Promise","all","balanceOf","getBalance","stakedBalanceOf","then","res","SET_BALANCE_SMRTR","_hex","Math","pow","SET_BALANCE_TRESR","SET_BALANCE_AVAX","utils","formatEther","SET_BALANCE_LP_TRESRAVAX","SET_BALANCE_LP_STAKED_TRESRAVAX","stop","_x","apply"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useUpdateProfileBalance.js"],"sourcesContent":["import { useDispatch } from \"react-redux\";\nimport { ethers } from \"ethers\";\nimport ACTIONS from \"redux/action\";\nimport { hexToNumber } from \"utils/blockchain\";\nimport {\n  useContractLpCoinTRESRAVAXWithSigner,\n  useContractLpStakingTRESRAVAXWithSigner,\n  useContractSmarterCoinWithSigner,\n  useContractTresrCoinWithSigner,\n} from \"hooks/blockchain/useHandleContracts\";\n\nexport default function useUpdateProfileBalance() {\n  const dispatch = useDispatch();\n  const handleContractLpCoinTRESRAVAXWithSigner =\n    useContractLpCoinTRESRAVAXWithSigner();\n  const handleContractLpStakingTRESRAVAXWithSigner =\n    useContractLpStakingTRESRAVAXWithSigner();\n  const handleContractSmarterCoinWithSigner =\n    useContractSmarterCoinWithSigner();\n  const handleContractTresrCoinWithSigner = useContractTresrCoinWithSigner();\n\n  const updateProfileBalance = async (address, count = 3) => {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const contractSmarterCoinWithSigner =\n      await handleContractSmarterCoinWithSigner;\n    const contractTresrCoinWithSigner = await handleContractTresrCoinWithSigner;\n    const contractLpCoinTRESRAVAXWithSigner =\n      await handleContractLpCoinTRESRAVAXWithSigner;\n    const contractLpStakingTRESRAVAXWithSigner =\n      await handleContractLpStakingTRESRAVAXWithSigner;\n    Promise.all([\n      contractSmarterCoinWithSigner.balanceOf(address),\n      contractTresrCoinWithSigner.balanceOf(address),\n      provider.getBalance(address),\n      contractLpCoinTRESRAVAXWithSigner.balanceOf(address),\n      contractLpStakingTRESRAVAXWithSigner.stakedBalanceOf(address),\n    ]).then((res) => {\n      ACTIONS.SET_BALANCE_SMRTR(\n        dispatch,\n        hexToNumber(res[0]._hex) / Math.pow(10, 18)\n      );\n      ACTIONS.SET_BALANCE_TRESR(\n        dispatch,\n        hexToNumber(res[1]._hex) / Math.pow(10, 18)\n      );\n      ACTIONS.SET_BALANCE_AVAX(dispatch, +ethers.utils.formatEther(res[2]));\n      ACTIONS.SET_BALANCE_LP_TRESRAVAX(\n        dispatch,\n        hexToNumber(res[3]._hex) / Math.pow(10, 18)\n      );\n      ACTIONS.SET_BALANCE_LP_STAKED_TRESRAVAX(\n        dispatch,\n        hexToNumber(res[4]._hex) / Math.pow(10, 18)\n      );\n    });\n  };\n  return { updateProfileBalance };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}