{"ast":null,"code":"import debug from 'debug';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = function (v) {\n  return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = function (v) {\n  return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = function (v) {\n  return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = function (v) {\n  return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = function (v) {\n  return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = function (v) {\n  return v == null ? 'undefined' : v.toString();\n};\nexport function logger(name) {\n  return Object.assign(debug(name), {\n    error: debug(\"\".concat(name, \":error\")),\n    trace: debug(\"\".concat(name, \":trace\"))\n  });\n}\nexport function disable() {\n  debug.disable();\n}\nexport function enable(namespaces) {\n  debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n  return debug.enabled(namespaces);\n}","map":{"version":3,"names":["debug","base58btc","base32","base64","formatters","b","v","baseEncode","t","m","p","toString","c","k","logger","name","Object","assign","error","concat","trace","disable","enable","namespaces","enabled"],"sources":["/Users/apple/Documents/treasure/node_modules/@libp2p/logger/src/index.ts"],"sourcesContent":["import debug from 'debug'\nimport { base58btc } from 'multiformats/bases/base58'\nimport { base32 } from 'multiformats/bases/base32'\nimport { base64 } from 'multiformats/bases/base64'\nimport type { PeerId } from '@libp2p/interface-peer-id'\nimport type { CID } from 'multiformats/cid'\nimport type { Key } from 'interface-datastore'\n\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v?: Uint8Array) => {\n  return v == null ? 'undefined' : base58btc.baseEncode(v)\n}\n\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v?: Uint8Array) => {\n  return v == null ? 'undefined' : base32.baseEncode(v)\n}\n\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v?: Uint8Array) => {\n  return v == null ? 'undefined' : base64.baseEncode(v)\n}\n\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v?: PeerId) => {\n  return v == null ? 'undefined' : v.toString()\n}\n\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v?: CID) => {\n  return v == null ? 'undefined' : v.toString()\n}\n\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v: Key) => {\n  return v == null ? 'undefined' : v.toString()\n}\n\nexport interface Logger {\n  (formatter: any, ...args: any[]): void\n  error: (formatter: any, ...args: any[]) => void\n  trace: (formatter: any, ...args: any[]) => void\n  enabled: boolean\n}\n\nexport function logger (name: string): Logger {\n  return Object.assign(debug(name), {\n    error: debug(`${name}:error`),\n    trace: debug(`${name}:trace`)\n  })\n}\n\nexport function disable () {\n  debug.disable()\n}\n\nexport function enable (namespaces: string) {\n  debug.enable(namespaces)\n}\n\nexport function enabled (namespaces: string) {\n  return debug.enabled(namespaces)\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,2BAA2B;AACrD,SAASC,MAAM,QAAQ,2BAA2B;AAClD,SAASC,MAAM,QAAQ,2BAA2B;AAKlD;AACAH,KAAK,CAACI,UAAU,CAACC,CAAC,GAAG,UAACC,CAAc,EAAI;EACtC,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGL,SAAS,CAACM,UAAU,CAACD,CAAC,CAAC;AAC1D,CAAC;AAED;AACAN,KAAK,CAACI,UAAU,CAACI,CAAC,GAAG,UAACF,CAAc,EAAI;EACtC,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGJ,MAAM,CAACK,UAAU,CAACD,CAAC,CAAC;AACvD,CAAC;AAED;AACAN,KAAK,CAACI,UAAU,CAACK,CAAC,GAAG,UAACH,CAAc,EAAI;EACtC,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGH,MAAM,CAACI,UAAU,CAACD,CAAC,CAAC;AACvD,CAAC;AAED;AACAN,KAAK,CAACI,UAAU,CAACM,CAAC,GAAG,UAACJ,CAAU,EAAI;EAClC,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGA,CAAC,CAACK,QAAQ,EAAE;AAC/C,CAAC;AAED;AACAX,KAAK,CAACI,UAAU,CAACQ,CAAC,GAAG,UAACN,CAAO,EAAI;EAC/B,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGA,CAAC,CAACK,QAAQ,EAAE;AAC/C,CAAC;AAED;AACAX,KAAK,CAACI,UAAU,CAACS,CAAC,GAAG,UAACP,CAAM,EAAI;EAC9B,OAAOA,CAAC,IAAI,IAAI,GAAG,WAAW,GAAGA,CAAC,CAACK,QAAQ,EAAE;AAC/C,CAAC;AASD,OAAM,SAAUG,MAAMA,CAAEC,IAAY;EAClC,OAAOC,MAAM,CAACC,MAAM,CAACjB,KAAK,CAACe,IAAI,CAAC,EAAE;IAChCG,KAAK,EAAElB,KAAK,IAAAmB,MAAA,CAAIJ,IAAI,WAAQ,CAAC;IAC7BK,KAAK,EAAEpB,KAAK,IAAAmB,MAAA,CAAIJ,IAAI,WAAQ;GAC7B,CAAC;AACJ;AAEA,OAAM,SAAUM,OAAOA,CAAA;EACrBrB,KAAK,CAACqB,OAAO,EAAE;AACjB;AAEA,OAAM,SAAUC,MAAMA,CAAEC,UAAkB;EACxCvB,KAAK,CAACsB,MAAM,CAACC,UAAU,CAAC;AAC1B;AAEA,OAAM,SAAUC,OAAOA,CAAED,UAAkB;EACzC,OAAOvB,KAAK,CAACwB,OAAO,CAACD,UAAU,CAAC;AAClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}