{"ast":null,"code":"import _regeneratorRuntime from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport pReflect from 'p-reflect';\nimport pLimit from 'p-limit';\nexport default function pSettle(_x) {\n  return _pSettle.apply(this, arguments);\n}\nfunction _pSettle() {\n  _pSettle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(array) {\n    var options,\n      _options$concurrency,\n      concurrency,\n      limit,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _options$concurrency = options.concurrency, concurrency = _options$concurrency === void 0 ? Number.POSITIVE_INFINITY : _options$concurrency;\n          limit = pLimit(concurrency);\n          return _context.abrupt(\"return\", Promise.all(array.map(function (element) {\n            if (element && typeof element.then === 'function') {\n              return pReflect(element);\n            }\n            if (typeof element === 'function') {\n              return pReflect(limit(function () {\n                return element();\n              }));\n            }\n            return pReflect(Promise.resolve(element));\n          })));\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _pSettle.apply(this, arguments);\n}","map":{"version":3,"names":["pReflect","pLimit","pSettle","_x","_pSettle","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","array","options","_options$concurrency","concurrency","limit","_args","wrap","_callee$","_context","prev","next","length","undefined","Number","POSITIVE_INFINITY","abrupt","Promise","all","map","element","then","resolve","stop"],"sources":["/Users/apple/Documents/treasure/node_modules/p-settle/index.js"],"sourcesContent":["import pReflect from 'p-reflect';\nimport pLimit from 'p-limit';\n\nexport default async function pSettle(array, options = {}) {\n\tconst {concurrency = Number.POSITIVE_INFINITY} = options;\n\tconst limit = pLimit(concurrency);\n\n\treturn Promise.all(array.map(element => {\n\t\tif (element && typeof element.then === 'function') {\n\t\t\treturn pReflect(element);\n\t\t}\n\n\t\tif (typeof element === 'function') {\n\t\t\treturn pReflect(limit(() => element()));\n\t\t}\n\n\t\treturn pReflect(Promise.resolve(element));\n\t}));\n}\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,WAAW;AAChC,OAAOC,MAAM,MAAM,SAAS;AAE5B,wBAA8BC,OAAOA,CAAAC,EAAA;EAAA,OAAAC,QAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAepC,SAAAF,SAAA;EAAAA,QAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAfc,SAAAC,QAAuBC,KAAK;IAAA,IAAAC,OAAA;MAAAC,oBAAA;MAAAC,WAAA;MAAAC,KAAA;MAAAC,KAAA,GAAAV,SAAA;IAAA,OAAAE,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAET,OAAO,GAAAI,KAAA,CAAAM,MAAA,QAAAN,KAAA,QAAAO,SAAA,GAAAP,KAAA,MAAG,CAAC,CAAC;UAAAH,oBAAA,GACPD,OAAO,CAAjDE,WAAW,EAAXA,WAAW,GAAAD,oBAAA,cAAGW,MAAM,CAACC,iBAAiB,GAAAZ,oBAAA;UACvCE,KAAK,GAAGd,MAAM,CAACa,WAAW,CAAC;UAAA,OAAAK,QAAA,CAAAO,MAAA,WAE1BC,OAAO,CAACC,GAAG,CAACjB,KAAK,CAACkB,GAAG,CAAC,UAAAC,OAAO,EAAI;YACvC,IAAIA,OAAO,IAAI,OAAOA,OAAO,CAACC,IAAI,KAAK,UAAU,EAAE;cAClD,OAAO/B,QAAQ,CAAC8B,OAAO,CAAC;YACzB;YAEA,IAAI,OAAOA,OAAO,KAAK,UAAU,EAAE;cAClC,OAAO9B,QAAQ,CAACe,KAAK,CAAC;gBAAA,OAAMe,OAAO,CAAC,CAAC;cAAA,EAAC,CAAC;YACxC;YAEA,OAAO9B,QAAQ,CAAC2B,OAAO,CAACK,OAAO,CAACF,OAAO,CAAC,CAAC;UAC1C,CAAC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAX,QAAA,CAAAc,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CACH;EAAA,OAAAN,QAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}