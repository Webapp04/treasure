{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContractDailyBonusRewardsWithSigner}from\"hooks/blockchain/useHandleContracts\";import{useDispatch,useSelector}from\"react-redux\";import ACTIONS from\"redux/action\";import{selectUser}from\"redux/slice/userSlice\";import{hexToNumber}from\"utils/blockchain\";export default function useUpdateClaimableBonusRewardBalance(){var dispatch=useDispatch();var user=useSelector(selectUser);var handleContractDailyBonusRewardsWithSigner=useContractDailyBonusRewardsWithSigner();var updateClaimableBonusRewardBalance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractDailyBonusRewardsWithSigner;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return handleContractDailyBonusRewardsWithSigner;case 2:contractDailyBonusRewardsWithSigner=_context.sent;Promise.all([contractDailyBonusRewardsWithSigner.getVeTresrBonusReward(user===null||user===void 0?void 0:user.wallet_id),contractDailyBonusRewardsWithSigner.getJlpSmrtBonusReward(user===null||user===void 0?void 0:user.wallet_id),contractDailyBonusRewardsWithSigner.getJlpTresrBonusReward(user===null||user===void 0?void 0:user.wallet_id),contractDailyBonusRewardsWithSigner.getKeyLevelBonusReward(user===null||user===void 0?void 0:user.wallet_id)]).then(function(res){var _res$,_res$2,_res$3,_res$4;ACTIONS.SET_BONUS_VETRESR_REWARDS(dispatch,hexToNumber((_res$=res[0])===null||_res$===void 0?void 0:_res$._hex)/Math.pow(10,18));ACTIONS.SET_BONUS_JLPSMARTR_REWARDS(dispatch,hexToNumber((_res$2=res[1])===null||_res$2===void 0?void 0:_res$2._hex)/Math.pow(10,18));ACTIONS.SET_BONUS_JLPTRESR_REWARDS(dispatch,hexToNumber((_res$3=res[2])===null||_res$3===void 0?void 0:_res$3._hex)/Math.pow(10,18));ACTIONS.SET_BONUS_KEY_LEVEL_REWARDS(dispatch,hexToNumber((_res$4=res[3])===null||_res$4===void 0?void 0:_res$4._hex)/Math.pow(10,18));});case 4:case\"end\":return _context.stop();}},_callee);}));return function updateClaimableBonusRewardBalance(){return _ref.apply(this,arguments);};}();return{updateClaimableBonusRewardBalance:updateClaimableBonusRewardBalance};}","map":{"version":3,"names":["useContractDailyBonusRewardsWithSigner","useDispatch","useSelector","ACTIONS","selectUser","hexToNumber","useUpdateClaimableBonusRewardBalance","dispatch","user","handleContractDailyBonusRewardsWithSigner","updateClaimableBonusRewardBalance","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractDailyBonusRewardsWithSigner","wrap","_callee$","_context","prev","next","sent","Promise","all","getVeTresrBonusReward","wallet_id","getJlpSmrtBonusReward","getJlpTresrBonusReward","getKeyLevelBonusReward","then","res","_res$","_res$2","_res$3","_res$4","SET_BONUS_VETRESR_REWARDS","_hex","Math","pow","SET_BONUS_JLPSMARTR_REWARDS","SET_BONUS_JLPTRESR_REWARDS","SET_BONUS_KEY_LEVEL_REWARDS","stop","apply","arguments"],"sources":["/Users/apple/Documents/treasure/src/hooks/rewards/useUpdateClaimableBonusRewardBalance.js"],"sourcesContent":["import { useContractDailyBonusRewardsWithSigner } from \"hooks/blockchain/useHandleContracts\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\nimport { selectUser } from \"redux/slice/userSlice\";\nimport { hexToNumber } from \"utils/blockchain\";\n\nexport default function useUpdateClaimableBonusRewardBalance() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const handleContractDailyBonusRewardsWithSigner =\n    useContractDailyBonusRewardsWithSigner();\n\n  const updateClaimableBonusRewardBalance = async () => {\n    const contractDailyBonusRewardsWithSigner =\n      await handleContractDailyBonusRewardsWithSigner;\n    Promise.all([\n      contractDailyBonusRewardsWithSigner.getVeTresrBonusReward(\n        user?.wallet_id\n      ),\n      contractDailyBonusRewardsWithSigner.getJlpSmrtBonusReward(\n        user?.wallet_id\n      ),\n      contractDailyBonusRewardsWithSigner.getJlpTresrBonusReward(\n        user?.wallet_id\n      ),\n      contractDailyBonusRewardsWithSigner.getKeyLevelBonusReward(\n        user?.wallet_id\n      ),\n    ]).then((res) => {\n      ACTIONS.SET_BONUS_VETRESR_REWARDS(\n        dispatch,\n        hexToNumber(res[0]?._hex) / 10 ** 18\n      );\n      ACTIONS.SET_BONUS_JLPSMARTR_REWARDS(\n        dispatch,\n        hexToNumber(res[1]?._hex) / 10 ** 18\n      );\n      ACTIONS.SET_BONUS_JLPTRESR_REWARDS(\n        dispatch,\n        hexToNumber(res[2]?._hex) / 10 ** 18\n      );\n      ACTIONS.SET_BONUS_KEY_LEVEL_REWARDS(\n        dispatch,\n        hexToNumber(res[3]?._hex) / 10 ** 18\n      );\n    });\n  };\n  return { updateClaimableBonusRewardBalance };\n}\n"],"mappings":"0PAAA,OAASA,sCAAsC,KAAQ,qCAAqC,CAC5F,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,cAAe,SAAS,CAAAC,oCAAoCA,CAAA,CAAG,CAC7D,GAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAO,IAAI,CAAGN,WAAW,CAACE,UAAU,CAAC,CACpC,GAAM,CAAAK,yCAAyC,CAC7CT,sCAAsC,CAAC,CAAC,CAE1C,GAAM,CAAAU,iCAAiC,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,mCAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAEhC,CAAAZ,yCAAyC,QAD3CO,mCAAmC,CAAAG,QAAA,CAAAG,IAAA,CAEzCC,OAAO,CAACC,GAAG,CAAC,CACVR,mCAAmC,CAACS,qBAAqB,CACvDjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,SACR,CAAC,CACDV,mCAAmC,CAACW,qBAAqB,CACvDnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,SACR,CAAC,CACDV,mCAAmC,CAACY,sBAAsB,CACxDpB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,SACR,CAAC,CACDV,mCAAmC,CAACa,sBAAsB,CACxDrB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,SACR,CAAC,CACF,CAAC,CAACI,IAAI,CAAC,SAACC,GAAG,CAAK,KAAAC,KAAA,CAAAC,MAAA,CAAAC,MAAA,CAAAC,MAAA,CACfhC,OAAO,CAACiC,yBAAyB,CAC/B7B,QAAQ,CACRF,WAAW,EAAA2B,KAAA,CAACD,GAAG,CAAC,CAAC,CAAC,UAAAC,KAAA,iBAANA,KAAA,CAAQK,IAAI,CAAC,CAAAC,IAAA,CAAAC,GAAA,CAAG,EAAE,CAAI,EAAE,CACtC,CAAC,CACDpC,OAAO,CAACqC,2BAA2B,CACjCjC,QAAQ,CACRF,WAAW,EAAA4B,MAAA,CAACF,GAAG,CAAC,CAAC,CAAC,UAAAE,MAAA,iBAANA,MAAA,CAAQI,IAAI,CAAC,CAAAC,IAAA,CAAAC,GAAA,CAAG,EAAE,CAAI,EAAE,CACtC,CAAC,CACDpC,OAAO,CAACsC,0BAA0B,CAChClC,QAAQ,CACRF,WAAW,EAAA6B,MAAA,CAACH,GAAG,CAAC,CAAC,CAAC,UAAAG,MAAA,iBAANA,MAAA,CAAQG,IAAI,CAAC,CAAAC,IAAA,CAAAC,GAAA,CAAG,EAAE,CAAI,EAAE,CACtC,CAAC,CACDpC,OAAO,CAACuC,2BAA2B,CACjCnC,QAAQ,CACRF,WAAW,EAAA8B,MAAA,CAACJ,GAAG,CAAC,CAAC,CAAC,UAAAI,MAAA,iBAANA,MAAA,CAAQE,IAAI,CAAC,CAAAC,IAAA,CAAAC,GAAA,CAAG,EAAE,CAAI,EAAE,CACtC,CAAC,CACH,CAAC,CAAC,CAAC,wBAAApB,QAAA,CAAAwB,IAAA,MAAA5B,OAAA,GACJ,kBAlCK,CAAAL,iCAAiCA,CAAA,SAAAC,IAAA,CAAAiC,KAAA,MAAAC,SAAA,OAkCtC,CACD,MAAO,CAAEnC,iCAAiC,CAAjCA,iCAAkC,CAAC,CAC9C"},"metadata":{},"sourceType":"module","externalDependencies":[]}