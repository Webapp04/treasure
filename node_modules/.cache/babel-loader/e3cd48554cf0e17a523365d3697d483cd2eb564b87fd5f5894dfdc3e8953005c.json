{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/* eslint-disable import/export */\n/* eslint-disable complexity */\n/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-unnecessary-boolean-literal-compare */\nimport { encodeMessage, decodeMessage, message } from 'protons-runtime';\nexport var PeerRecord;\n(function (PeerRecord) {\n  var AddressInfo;\n  (function (AddressInfo) {\n    var _codec;\n    AddressInfo.codec = function () {\n      if (_codec == null) {\n        _codec = message(function (obj, w) {\n          var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          if (opts.lengthDelimited !== false) {\n            w.fork();\n          }\n          if (opts.writeDefaults === true || obj.multiaddr != null && obj.multiaddr.byteLength > 0) {\n            w.uint32(10);\n            w.bytes(obj.multiaddr);\n          }\n          if (opts.lengthDelimited !== false) {\n            w.ldelim();\n          }\n        }, function (reader, length) {\n          var obj = {\n            multiaddr: new Uint8Array(0)\n          };\n          var end = length == null ? reader.len : reader.pos + length;\n          while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n              case 1:\n                obj.multiaddr = reader.bytes();\n                break;\n              default:\n                reader.skipType(tag & 7);\n                break;\n            }\n          }\n          return obj;\n        });\n      }\n      return _codec;\n    };\n    AddressInfo.encode = function (obj) {\n      return encodeMessage(obj, AddressInfo.codec());\n    };\n    AddressInfo.decode = function (buf) {\n      return decodeMessage(buf, AddressInfo.codec());\n    };\n  })(AddressInfo = PeerRecord.AddressInfo || (PeerRecord.AddressInfo = {}));\n  var _codec;\n  PeerRecord.codec = function () {\n    if (_codec == null) {\n      _codec = message(function (obj, w) {\n        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (opts.lengthDelimited !== false) {\n          w.fork();\n        }\n        if (opts.writeDefaults === true || obj.peerId != null && obj.peerId.byteLength > 0) {\n          w.uint32(10);\n          w.bytes(obj.peerId);\n        }\n        if (opts.writeDefaults === true || obj.seq !== 0n) {\n          w.uint32(16);\n          w.uint64(obj.seq);\n        }\n        if (obj.addresses != null) {\n          var _iterator = _createForOfIteratorHelper(obj.addresses),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var value = _step.value;\n              w.uint32(26);\n              PeerRecord.AddressInfo.codec().encode(value, w, {\n                writeDefaults: true\n              });\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n        if (opts.lengthDelimited !== false) {\n          w.ldelim();\n        }\n      }, function (reader, length) {\n        var obj = {\n          peerId: new Uint8Array(0),\n          seq: 0n,\n          addresses: []\n        };\n        var end = length == null ? reader.len : reader.pos + length;\n        while (reader.pos < end) {\n          var tag = reader.uint32();\n          switch (tag >>> 3) {\n            case 1:\n              obj.peerId = reader.bytes();\n              break;\n            case 2:\n              obj.seq = reader.uint64();\n              break;\n            case 3:\n              obj.addresses.push(PeerRecord.AddressInfo.codec().decode(reader, reader.uint32()));\n              break;\n            default:\n              reader.skipType(tag & 7);\n              break;\n          }\n        }\n        return obj;\n      });\n    }\n    return _codec;\n  };\n  PeerRecord.encode = function (obj) {\n    return encodeMessage(obj, PeerRecord.codec());\n  };\n  PeerRecord.decode = function (buf) {\n    return decodeMessage(buf, PeerRecord.codec());\n  };\n})(PeerRecord || (PeerRecord = {}));","map":{"version":3,"names":["encodeMessage","decodeMessage","message","PeerRecord","AddressInfo","_codec","codec","obj","w","opts","arguments","length","undefined","lengthDelimited","fork","writeDefaults","multiaddr","byteLength","uint32","bytes","ldelim","reader","Uint8Array","end","len","pos","tag","skipType","encode","decode","buf","peerId","seq","uint64","addresses","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","err","e","f","push"],"sources":["/Users/apple/Documents/treasure/node_modules/@libp2p/peer-record/src/peer-record/peer-record.ts"],"sourcesContent":["/* eslint-disable import/export */\n/* eslint-disable complexity */\n/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-unnecessary-boolean-literal-compare */\n\nimport { encodeMessage, decodeMessage, message } from 'protons-runtime'\nimport type { Uint8ArrayList } from 'uint8arraylist'\nimport type { Codec } from 'protons-runtime'\n\nexport interface PeerRecord {\n  peerId: Uint8Array\n  seq: bigint\n  addresses: PeerRecord.AddressInfo[]\n}\n\nexport namespace PeerRecord {\n  export interface AddressInfo {\n    multiaddr: Uint8Array\n  }\n\n  export namespace AddressInfo {\n    let _codec: Codec<AddressInfo>\n\n    export const codec = (): Codec<AddressInfo> => {\n      if (_codec == null) {\n        _codec = message<AddressInfo>((obj, w, opts = {}) => {\n          if (opts.lengthDelimited !== false) {\n            w.fork()\n          }\n\n          if (opts.writeDefaults === true || (obj.multiaddr != null && obj.multiaddr.byteLength > 0)) {\n            w.uint32(10)\n            w.bytes(obj.multiaddr)\n          }\n\n          if (opts.lengthDelimited !== false) {\n            w.ldelim()\n          }\n        }, (reader, length) => {\n          const obj: any = {\n            multiaddr: new Uint8Array(0)\n          }\n\n          const end = length == null ? reader.len : reader.pos + length\n\n          while (reader.pos < end) {\n            const tag = reader.uint32()\n\n            switch (tag >>> 3) {\n              case 1:\n                obj.multiaddr = reader.bytes()\n                break\n              default:\n                reader.skipType(tag & 7)\n                break\n            }\n          }\n\n          return obj\n        })\n      }\n\n      return _codec\n    }\n\n    export const encode = (obj: AddressInfo): Uint8Array => {\n      return encodeMessage(obj, AddressInfo.codec())\n    }\n\n    export const decode = (buf: Uint8Array | Uint8ArrayList): AddressInfo => {\n      return decodeMessage(buf, AddressInfo.codec())\n    }\n  }\n\n  let _codec: Codec<PeerRecord>\n\n  export const codec = (): Codec<PeerRecord> => {\n    if (_codec == null) {\n      _codec = message<PeerRecord>((obj, w, opts = {}) => {\n        if (opts.lengthDelimited !== false) {\n          w.fork()\n        }\n\n        if (opts.writeDefaults === true || (obj.peerId != null && obj.peerId.byteLength > 0)) {\n          w.uint32(10)\n          w.bytes(obj.peerId)\n        }\n\n        if (opts.writeDefaults === true || obj.seq !== 0n) {\n          w.uint32(16)\n          w.uint64(obj.seq)\n        }\n\n        if (obj.addresses != null) {\n          for (const value of obj.addresses) {\n            w.uint32(26)\n            PeerRecord.AddressInfo.codec().encode(value, w, {\n              writeDefaults: true\n            })\n          }\n        }\n\n        if (opts.lengthDelimited !== false) {\n          w.ldelim()\n        }\n      }, (reader, length) => {\n        const obj: any = {\n          peerId: new Uint8Array(0),\n          seq: 0n,\n          addresses: []\n        }\n\n        const end = length == null ? reader.len : reader.pos + length\n\n        while (reader.pos < end) {\n          const tag = reader.uint32()\n\n          switch (tag >>> 3) {\n            case 1:\n              obj.peerId = reader.bytes()\n              break\n            case 2:\n              obj.seq = reader.uint64()\n              break\n            case 3:\n              obj.addresses.push(PeerRecord.AddressInfo.codec().decode(reader, reader.uint32()))\n              break\n            default:\n              reader.skipType(tag & 7)\n              break\n          }\n        }\n\n        return obj\n      })\n    }\n\n    return _codec\n  }\n\n  export const encode = (obj: PeerRecord): Uint8Array => {\n    return encodeMessage(obj, PeerRecord.codec())\n  }\n\n  export const decode = (buf: Uint8Array | Uint8ArrayList): PeerRecord => {\n    return decodeMessage(buf, PeerRecord.codec())\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}