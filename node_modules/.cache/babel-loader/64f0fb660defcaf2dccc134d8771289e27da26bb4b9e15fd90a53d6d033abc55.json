{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import CustomerApi from\"../../api/CustomerApi\";import{useDispatch}from\"react-redux\";import ACTIONS from\"redux/action\";export default function useHandleCustomer(){var dispatch=useDispatch();var fetchInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new CustomerApi().getInfo().then(function(res){if(res!==null&&res!==void 0&&res.status){ACTIONS.SET_USER(dispatch,res===null||res===void 0?void 0:res.data);}return(res===null||res===void 0?void 0:res.data)||null;}));case 1:case\"end\":return _context.stop();}},_callee);}));return function fetchInfo(){return _ref.apply(this,arguments);};}();var getNonce=function getNonce(address){return new CustomerApi().getNonce(address).then(function(res){return res!==null&&res!==void 0&&res.status?res===null||res===void 0?void 0:res.data:null;});};var getMerkleTree=function getMerkleTree(address){return new CustomerApi().getMerkleTree(address).then(function(res){return res===null||res===void 0?void 0:res.data;});};var updateInfo=function updateInfo(data){return new CustomerApi().updateOne(data).then(function(res){return res!==null&&res!==void 0&&res.status?ACTIONS.SET_USER(dispatch,res===null||res===void 0?void 0:res.data):null;});};return{getNonce:getNonce,fetchInfo:fetchInfo,updateInfo:updateInfo,getMerkleTree:getMerkleTree};}","map":{"version":3,"names":["CustomerApi","useDispatch","ACTIONS","useHandleCustomer","dispatch","fetchInfo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","getInfo","then","res","status","SET_USER","data","stop","apply","arguments","getNonce","address","getMerkleTree","updateInfo","updateOne"],"sources":["/Users/apple/Documents/treasure/src/hooks/customer/useHandleCustomer.js"],"sourcesContent":["import CustomerApi from \"../../api/CustomerApi\";\nimport { useDispatch } from \"react-redux\";\nimport ACTIONS from \"redux/action\";\n\nexport default function useHandleCustomer() {\n  const dispatch = useDispatch();\n\n  const fetchInfo = async () => {\n    return new CustomerApi().getInfo().then((res) => {\n      if (res?.status) {\n        ACTIONS.SET_USER(dispatch, res?.data);\n      }\n      return res?.data || null;\n    });\n  };\n\n  const getNonce = (address) => {\n    return new CustomerApi()\n      .getNonce(address)\n      .then((res) => (res?.status ? res?.data : null));\n  };\n\n  const getMerkleTree = (address) => {\n    return new CustomerApi().getMerkleTree(address).then((res) => res?.data);\n  };\n\n  const updateInfo = (data) => {\n    return new CustomerApi()\n      .updateOne(data)\n      .then((res) =>\n        res?.status ? ACTIONS.SET_USER(dispatch, res?.data) : null\n      );\n  };\n\n  return {\n    getNonce,\n    fetchInfo,\n    updateInfo,\n    getMerkleTree,\n  };\n}\n"],"mappings":"0PAAA,MAAO,CAAAA,WAAW,KAAM,uBAAuB,CAC/C,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,OAAO,KAAM,cAAc,CAElC,cAAe,SAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC1C,GAAM,CAAAC,QAAQ,CAAGH,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAI,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAG,MAAA,UACT,GAAI,CAAAhB,WAAW,CAAC,CAAC,CAACiB,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CAC/C,GAAIA,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEC,MAAM,CAAE,CACflB,OAAO,CAACmB,QAAQ,CAACjB,QAAQ,CAAEe,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,CAAC,CACvC,CACA,MAAO,CAAAH,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,GAAI,IAAI,CAC1B,CAAC,CAAC,0BAAAT,QAAA,CAAAU,IAAA,MAAAb,OAAA,GACH,kBAPK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAOd,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,OAAO,CAAK,CAC5B,MAAO,IAAI,CAAA3B,WAAW,CAAC,CAAC,CACrB0B,QAAQ,CAACC,OAAO,CAAC,CACjBT,IAAI,CAAC,SAACC,GAAG,QAAM,CAAAA,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEC,MAAM,CAAGD,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,CAAG,IAAI,EAAC,CAAC,CACpD,CAAC,CAED,GAAM,CAAAM,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAID,OAAO,CAAK,CACjC,MAAO,IAAI,CAAA3B,WAAW,CAAC,CAAC,CAAC4B,aAAa,CAACD,OAAO,CAAC,CAACT,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,GAAC,CAC1E,CAAC,CAED,GAAM,CAAAO,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIP,IAAI,CAAK,CAC3B,MAAO,IAAI,CAAAtB,WAAW,CAAC,CAAC,CACrB8B,SAAS,CAACR,IAAI,CAAC,CACfJ,IAAI,CAAC,SAACC,GAAG,QACR,CAAAA,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEC,MAAM,CAAGlB,OAAO,CAACmB,QAAQ,CAACjB,QAAQ,CAAEe,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,CAAC,CAAG,IAAI,EAC5D,CAAC,CACL,CAAC,CAED,MAAO,CACLI,QAAQ,CAARA,QAAQ,CACRrB,SAAS,CAATA,SAAS,CACTwB,UAAU,CAAVA,UAAU,CACVD,aAAa,CAAbA,aACF,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}