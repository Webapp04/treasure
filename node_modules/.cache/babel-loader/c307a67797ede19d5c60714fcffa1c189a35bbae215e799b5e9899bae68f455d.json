{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nvar _classCallCheck = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BrowserRandomSource = void 0;\nvar QUOTA = 65536;\nvar BrowserRandomSource = /*#__PURE__*/function () {\n  function BrowserRandomSource() {\n    _classCallCheck(this, BrowserRandomSource);\n    this.isAvailable = false;\n    this.isInstantiated = false;\n    var browserCrypto = typeof self !== 'undefined' ? self.crypto || self.msCrypto // IE11 has msCrypto\n    : null;\n    if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n      this._crypto = browserCrypto;\n      this.isAvailable = true;\n      this.isInstantiated = true;\n    }\n  }\n  _createClass(BrowserRandomSource, [{\n    key: \"randomBytes\",\n    value: function randomBytes(length) {\n      if (!this.isAvailable || !this._crypto) {\n        throw new Error(\"Browser random byte generator is not available.\");\n      }\n      var out = new Uint8Array(length);\n      for (var i = 0; i < out.length; i += QUOTA) {\n        this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n      }\n      return out;\n    }\n  }]);\n  return BrowserRandomSource;\n}();\nexports.BrowserRandomSource = BrowserRandomSource;","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","QUOTA","BrowserRandomSource","isAvailable","isInstantiated","browserCrypto","self","crypto","msCrypto","getRandomValues","undefined","_crypto","key","value","randomBytes","length","Error","out","Uint8Array","i","subarray","Math","min","exports"],"sources":["/Users/apple/Documents/treasure/node_modules/@stablelib/random/source/browser.ts"],"sourcesContent":["// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\nimport { RandomSource } from \"./\";\n\nconst QUOTA = 65536;\n\nexport class BrowserRandomSource implements RandomSource {\n    isAvailable = false;\n    isInstantiated = false;\n\n    private _crypto?: { getRandomValues: typeof window.crypto.getRandomValues };\n\n    constructor() {\n        const browserCrypto = typeof self !== 'undefined'\n            ? (self.crypto || (self as { msCrypto?: any }).msCrypto) // IE11 has msCrypto\n            : null;\n\n        if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n            this._crypto = browserCrypto;\n            this.isAvailable = true;\n            this.isInstantiated = true;\n        }\n    }\n\n    randomBytes(length: number): Uint8Array {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Browser random byte generator is not available.\");\n        }\n        const out = new Uint8Array(length);\n        for (let i = 0; i < out.length; i += QUOTA) {\n            this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n        }\n        return out;\n    }\n}\n"],"mappings":";;AAAA;AACA;AAAA,IAAAA,eAAA,GAAAC,OAAA,0FAAAC,OAAA;AAAA,IAAAC,YAAA,GAAAF,OAAA,uFAAAC,OAAA;;;;;AAIA,IAAME,KAAK,GAAG,KAAK;AAAC,IAEPC,mBAAmB;EAM5B,SAAAA,oBAAA;IAAAL,eAAA,OAAAK,mBAAA;IALA,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,cAAc,GAAG,KAAK;IAKlB,IAAMC,aAAa,GAAG,OAAOC,IAAI,KAAK,WAAW,GAC1CA,IAAI,CAACC,MAAM,IAAKD,IAA2B,CAACE,QAAQ,CAAE;IAAA,EACvD,IAAI;IAEV,IAAIH,aAAa,IAAIA,aAAa,CAACI,eAAe,KAAKC,SAAS,EAAE;MAC9D,IAAI,CAACC,OAAO,GAAGN,aAAa;MAC5B,IAAI,CAACF,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,cAAc,GAAG,IAAI;;EAElC;EAACJ,YAAA,CAAAE,mBAAA;IAAAU,GAAA;IAAAC,KAAA,EAED,SAAAC,YAAYC,MAAc;MACtB,IAAI,CAAC,IAAI,CAACZ,WAAW,IAAI,CAAC,IAAI,CAACQ,OAAO,EAAE;QACpC,MAAM,IAAIK,KAAK,CAAC,iDAAiD,CAAC;;MAEtE,IAAMC,GAAG,GAAG,IAAIC,UAAU,CAACH,MAAM,CAAC;MAClC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACF,MAAM,EAAEI,CAAC,IAAIlB,KAAK,EAAE;QACxC,IAAI,CAACU,OAAO,CAACF,eAAe,CAACQ,GAAG,CAACG,QAAQ,CAACD,CAAC,EAAEA,CAAC,GAAGE,IAAI,CAACC,GAAG,CAACL,GAAG,CAACF,MAAM,GAAGI,CAAC,EAAElB,KAAK,CAAC,CAAC,CAAC;;MAEtF,OAAOgB,GAAG;IACd;EAAC;EAAA,OAAAf,mBAAA;AAAA;AA3BLqB,OAAA,CAAArB,mBAAA,GAAAA,mBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}