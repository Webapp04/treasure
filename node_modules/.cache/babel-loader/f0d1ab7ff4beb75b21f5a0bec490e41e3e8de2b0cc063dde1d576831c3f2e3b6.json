{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./style.scss\";import{MAX_CHEST_TIER}from\"constant/blockchain\";import SmallKeyTimer from\"../SmallKeyTimer/smallKeyTimer\";import{compareUnixDates}from\"utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FounderKeyTab=function FounderKeyTab(_ref){var _ref$tokenId=_ref.tokenId,tokenId=_ref$tokenId===void 0?0:_ref$tokenId,_ref$tier=_ref.tier,tier=_ref$tier===void 0?0:_ref$tier,tierTresr=_ref.tierTresr,_ref$staked=_ref.staked,staked=_ref$staked===void 0?true:_ref$staked,isAnimated=_ref.isAnimated,contractAddress=_ref.contractAddress,_ref$onNFKey=_ref.onNFKey,onNFKey=_ref$onNFKey===void 0?function(){}:_ref$onNFKey,_ref$spaceThumbnailSm=_ref.spaceThumbnailSmall,spaceThumbnailSmall=_ref$spaceThumbnailSm===void 0?\"https://artifactory-nfkey.nyc3.digitaloceanspaces.com/keys-space/1/100x100.jpg\":_ref$spaceThumbnailSm,days=_ref.days,hours=_ref.hours,minutes=_ref.minutes,seconds=_ref.seconds,nftSelected=_ref.nftSelected;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),timeToUpgrade=_useState2[0],setTimeToUpgrade=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),startUpgradeDelay=_useState4[0],setStartUpgradeDelay=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),percentToUpgrade=_useState6[0],setPercentToUpgrade=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),timerID=_useState8[0],setTimerID=_useState8[1];var chestProgressLine=MAX_CHEST_TIER/tierTresr;var chestProgressLineWidth=chestProgressLine<=1?100:100/chestProgressLine;var isActive=tokenId===(nftSelected===null||nftSelected===void 0?void 0:nftSelected.tokenId);useEffect(function(){clearInterval(timerID);if(compareUnixDates(new Date().getTime()/1000,timeToUpgrade)){setPercentToUpgrade(100);}else{}return function(){return clearInterval(timerID);};},[timeToUpgrade,startUpgradeDelay]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab \".concat(isActive?\"active\":\"\",\" hover:border-[#2D46D6]\"),onClick:function onClick(){!isActive&&onNFKey(tokenId,contractAddress);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"NFFounderKeyTab__image\",style:{background:\"linear-gradient(45.44deg, #4964FE \".concat(percentToUpgrade,\"%, rgba(73, 100, 254, 0) 48.31%)\")},children:/*#__PURE__*/_jsx(\"img\",{src:spaceThumbnailSmall,alt:\"\"})}),isAnimated?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info--title\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info--title__name \".concat(isActive?\"NFFounderKeyTab__info--title__name--active\":\"\"),children:[\"Founder\\u2019s Key #\",tokenId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info--title__count \".concat(isActive?\"NFFounderKeyTab__info--title__count--active\":\"\"),children:[\"Level \",tier]})]}),staked?/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info--wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"NFFounderKeyTab__info--progressLine\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"NFFounderKeyTab__info--progressLine__bar yellow \".concat(isActive?\"yellow__active\":\"\"),style:{width:\"\".concat(chestProgressLineWidth,\"%\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"progressLine__text\",style:{mixBlendMode:\"difference\"},children:[\"Tier \",tierTresr,\"/\",MAX_CHEST_TIER]})]}),/*#__PURE__*/_jsx(SmallKeyTimer,{days:days,hours:hours,minutes:minutes,seconds:seconds,isActive:isActive})]}):/*#__PURE__*/_jsx(\"div\",{className:\"NFFounderKeyTab__info--inactive \".concat(isActive?\"NFFounderKeyTab__info--inactive__active\":\"\"),children:\"inactive\"})]})]});};export default FounderKeyTab;","map":{"version":3,"names":["React","useEffect","useState","MAX_CHEST_TIER","SmallKeyTimer","compareUnixDates","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FounderKeyTab","_ref","_ref$tokenId","tokenId","_ref$tier","tier","tierTresr","_ref$staked","staked","isAnimated","contractAddress","_ref$onNFKey","onNFKey","_ref$spaceThumbnailSm","spaceThumbnailSmall","days","hours","minutes","seconds","nftSelected","_useState","_useState2","_slicedToArray","timeToUpgrade","setTimeToUpgrade","_useState3","_useState4","startUpgradeDelay","setStartUpgradeDelay","_useState5","_useState6","percentToUpgrade","setPercentToUpgrade","_useState7","_useState8","timerID","setTimerID","chestProgressLine","chestProgressLineWidth","isActive","clearInterval","Date","getTime","className","concat","onClick","children","style","background","src","alt","width","mixBlendMode"],"sources":["/Users/apple/Documents/treasure/src/storybook/molecule/FounderKeyTab/founderKeyTab.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./style.scss\";\nimport { MAX_CHEST_TIER } from \"constant/blockchain\";\nimport SmallKeyTimer from \"../SmallKeyTimer/smallKeyTimer\";\nimport { compareUnixDates } from \"utils\";\n\nconst FounderKeyTab = ({\n  tokenId = 0,\n  tier = 0,\n  tierTresr,\n  staked = true,\n  isAnimated,\n  contractAddress,\n  onNFKey = () => {},\n  spaceThumbnailSmall = \"https://artifactory-nfkey.nyc3.digitaloceanspaces.com/keys-space/1/100x100.jpg\",\n  days,\n  hours,\n  minutes,\n  seconds,\n  nftSelected,\n}) => {\n  const [timeToUpgrade, setTimeToUpgrade] = useState(0);\n  const [startUpgradeDelay, setStartUpgradeDelay] = useState(0);\n  const [percentToUpgrade, setPercentToUpgrade] = useState(0);\n  const [timerID, setTimerID] = useState(0);\n  const chestProgressLine = MAX_CHEST_TIER / tierTresr;\n  const chestProgressLineWidth =\n    chestProgressLine <= 1 ? 100 : 100 / chestProgressLine;\n  const isActive = tokenId === nftSelected?.tokenId;\n\n  useEffect(() => {\n    clearInterval(timerID);\n    if (compareUnixDates(new Date().getTime() / 1000, timeToUpgrade)) {\n      setPercentToUpgrade(100);\n    } else {\n    }\n    return () => clearInterval(timerID);\n  }, [timeToUpgrade, startUpgradeDelay]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div\n      className={`NFFounderKeyTab ${\n        isActive ? \"active\" : \"\"\n      } hover:border-[#2D46D6]`}\n      onClick={() => {\n        !isActive && onNFKey(tokenId, contractAddress);\n      }}\n    >\n      <div\n        className=\"NFFounderKeyTab__image\"\n        style={{\n          background: `linear-gradient(45.44deg, #4964FE ${percentToUpgrade}%, rgba(73, 100, 254, 0) 48.31%)`,\n        }}\n      >\n        <img src={spaceThumbnailSmall} alt=\"\" />\n      </div>\n      {isAnimated ? (\n        <></>\n      ) : (\n        <div className=\"NFFounderKeyTab__info\">\n          <div className=\"NFFounderKeyTab__info--title\">\n            <div\n              className={`NFFounderKeyTab__info--title__name ${\n                isActive ? \"NFFounderKeyTab__info--title__name--active\" : \"\"\n              }`}\n            >\n              Founderâ€™s Key #{tokenId}\n            </div>\n            <div\n              className={`NFFounderKeyTab__info--title__count ${\n                isActive ? \"NFFounderKeyTab__info--title__count--active\" : \"\"\n              }`}\n            >\n              Level {tier}\n            </div>\n          </div>\n          {staked ? (\n            <div className=\"NFFounderKeyTab__info--wrapper\">\n              <div className=\"NFFounderKeyTab__info--progressLine\">\n                <div\n                  className={`NFFounderKeyTab__info--progressLine__bar yellow ${\n                    isActive ? \"yellow__active\" : \"\"\n                  }`}\n                  style={{ width: `${chestProgressLineWidth}%` }}\n                ></div>\n                <div\n                  className=\"progressLine__text\"\n                  style={{ mixBlendMode: \"difference\" }}\n                >\n                  Tier {tierTresr}/{MAX_CHEST_TIER}\n                </div>\n              </div>\n              <SmallKeyTimer\n                days={days}\n                hours={hours}\n                minutes={minutes}\n                seconds={seconds}\n                isActive={isActive}\n              />\n            </div>\n          ) : (\n            <div\n              className={`NFFounderKeyTab__info--inactive ${\n                isActive ? \"NFFounderKeyTab__info--inactive__active\" : \"\"\n              }`}\n            >\n              inactive\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FounderKeyTab;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}