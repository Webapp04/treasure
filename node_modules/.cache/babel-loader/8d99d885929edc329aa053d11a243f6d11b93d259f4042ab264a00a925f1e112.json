{"ast":null,"code":"import _regeneratorRuntime from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { base58btc } from './bases/base58.js';\nvar walk = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var cid, load, seen, b58Cid, block, _iterator, _step, _step$value, _cid;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          cid = _ref.cid, load = _ref.load, seen = _ref.seen;\n          seen = seen || new Set();\n          b58Cid = cid.toString(base58btc);\n          if (!seen.has(b58Cid)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 5:\n          _context.next = 7;\n          return load(cid);\n        case 7:\n          block = _context.sent;\n          seen.add(b58Cid);\n          if (!(block === null)) {\n            _context.next = 11;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 11:\n          _iterator = _createForOfIteratorHelper(block.links());\n          _context.prev = 12;\n          _iterator.s();\n        case 14:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 20;\n            break;\n          }\n          _step$value = _slicedToArray(_step.value, 2), _cid = _step$value[1];\n          _context.next = 18;\n          return walk({\n            cid: _cid,\n            load: load,\n            seen: seen\n          });\n        case 18:\n          _context.next = 14;\n          break;\n        case 20:\n          _context.next = 25;\n          break;\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](12);\n          _iterator.e(_context.t0);\n        case 25:\n          _context.prev = 25;\n          _iterator.f();\n          return _context.finish(25);\n        case 28:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[12, 22, 25, 28]]);\n  }));\n  return function walk(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport { walk };","map":{"version":3,"names":["base58btc","walk","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","cid","load","seen","b58Cid","block","_iterator","_step","_step$value","_cid","wrap","_callee$","_context","prev","next","Set","toString","has","abrupt","sent","add","_createForOfIteratorHelper","links","s","n","done","_slicedToArray","value","t0","e","f","finish","stop","_x","apply","arguments"],"sources":["/Users/apple/Documents/treasure/node_modules/multiformats/esm/src/traversal.js"],"sourcesContent":["import { base58btc } from './bases/base58.js';\nconst walk = async ({cid, load, seen}) => {\n  seen = seen || new Set();\n  const b58Cid = cid.toString(base58btc);\n  if (seen.has(b58Cid)) {\n    return;\n  }\n  const block = await load(cid);\n  seen.add(b58Cid);\n  if (block === null) {\n    return;\n  }\n  for (const [, cid] of block.links()) {\n    await walk({\n      cid,\n      load,\n      seen\n    });\n  }\n};\nexport {\n  walk\n};"],"mappings":";;;;AAAA,SAASA,SAAS,QAAQ,mBAAmB;AAC7C,IAAMC,IAAI;EAAA,IAAAC,KAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAAC,IAAA;IAAA,IAAAC,GAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,SAAA,EAAAC,KAAA,EAAAC,WAAA,EAAAC,IAAA;IAAA,OAAAZ,mBAAA,GAAAa,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAQb,GAAG,GAAAD,IAAA,CAAHC,GAAG,EAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI,EAAEC,IAAI,GAAAH,IAAA,CAAJG,IAAI;UAClCA,IAAI,GAAGA,IAAI,IAAI,IAAIY,GAAG,CAAC,CAAC;UAClBX,MAAM,GAAGH,GAAG,CAACe,QAAQ,CAACvB,SAAS,CAAC;UAAA,KAClCU,IAAI,CAACc,GAAG,CAACb,MAAM,CAAC;YAAAQ,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAM,MAAA;QAAA;UAAAN,QAAA,CAAAE,IAAA;UAAA,OAGAZ,IAAI,CAACD,GAAG,CAAC;QAAA;UAAvBI,KAAK,GAAAO,QAAA,CAAAO,IAAA;UACXhB,IAAI,CAACiB,GAAG,CAAChB,MAAM,CAAC;UAAC,MACbC,KAAK,KAAK,IAAI;YAAAO,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAM,MAAA;QAAA;UAAAZ,SAAA,GAAAe,0BAAA,CAGIhB,KAAK,CAACiB,KAAK,CAAC,CAAC;UAAAV,QAAA,CAAAC,IAAA;UAAAP,SAAA,CAAAiB,CAAA;QAAA;UAAA,KAAAhB,KAAA,GAAAD,SAAA,CAAAkB,CAAA,IAAAC,IAAA;YAAAb,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAN,WAAA,GAAAkB,cAAA,CAAAnB,KAAA,CAAAoB,KAAA,MAArB1B,IAAG,GAAAO,WAAA;UAAAI,QAAA,CAAAE,IAAA;UAAA,OACTpB,IAAI,CAAC;YACTO,GAAG,EAAHA,IAAG;YACHC,IAAI,EAAJA,IAAI;YACJC,IAAI,EAAJA;UACF,CAAC,CAAC;QAAA;UAAAS,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;UAAAN,SAAA,CAAAuB,CAAA,CAAAjB,QAAA,CAAAgB,EAAA;QAAA;UAAAhB,QAAA,CAAAC,IAAA;UAAAP,SAAA,CAAAwB,CAAA;UAAA,OAAAlB,QAAA,CAAAmB,MAAA;QAAA;QAAA;UAAA,OAAAnB,QAAA,CAAAoB,IAAA;MAAA;IAAA,GAAAjC,OAAA;EAAA,CAEL;EAAA,gBAlBKL,IAAIA,CAAAuC,EAAA;IAAA,OAAAtC,KAAA,CAAAuC,KAAA,OAAAC,SAAA;EAAA;AAAA,GAkBT;AACD,SACEzC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}