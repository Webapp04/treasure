{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _assertThisInitialized = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/assertThisInitialized.js\").default;\nvar _get = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/get.js\").default;\nvar _getPrototypeOf = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\nvar _inherits = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar AbortController = globalThis.AbortController;\n\n// @ts-expect-error no types\nvar retimer = require('retimer');\nvar TimeoutController = /*#__PURE__*/function (_AbortController) {\n  _inherits(TimeoutController, _AbortController);\n  var _super = _createSuper(TimeoutController);\n  /**\n   * @constructor\n   * @param {number} ms milliseconds\n   */\n  function TimeoutController(ms) {\n    var _this;\n    _classCallCheck(this, TimeoutController);\n    _this = _super.call(this);\n    _this._ms = ms;\n    _this._timer = retimer(function () {\n      return _this.abort();\n    }, ms);\n    // Patch for safari not supported extending built in classes\n    Object.setPrototypeOf(_assertThisInitialized(_this), TimeoutController.prototype);\n    return _this;\n  }\n\n  /**\n   * Aborts the controller and clears the timer\n   */\n  _createClass(TimeoutController, [{\n    key: \"abort\",\n    value: function abort() {\n      this._timer.clear();\n      return _get(_getPrototypeOf(TimeoutController.prototype), \"abort\", this).call(this);\n    }\n\n    /**\n     * Clears the timer\n     */\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._timer.clear();\n    }\n\n    /**\n     * Resets the timer\n     */\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this2 = this;\n      this._timer.clear();\n      this._timer = retimer(function () {\n        return _this2.abort();\n      }, this._ms);\n    }\n  }]);\n  return TimeoutController;\n}(AbortController);\nmodule.exports = {\n  TimeoutController: TimeoutController\n};","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_assertThisInitialized","_get","_getPrototypeOf","_inherits","_createSuper","AbortController","globalThis","retimer","TimeoutController","_AbortController","_super","ms","_this","call","_ms","_timer","abort","Object","setPrototypeOf","prototype","key","value","clear","reset","_this2","module","exports"],"sources":["/Users/apple/Documents/treasure/node_modules/timeout-abort-controller/index.js"],"sourcesContent":["'use strict'\n\nconst { AbortController } = globalThis\n\n// @ts-expect-error no types\nconst retimer = require('retimer')\n\nclass TimeoutController extends AbortController {\n  /**\n   * @constructor\n   * @param {number} ms milliseconds\n   */\n  constructor (ms) {\n    super()\n    this._ms = ms\n    this._timer = retimer(() => this.abort(), ms)\n    // Patch for safari not supported extending built in classes\n    Object.setPrototypeOf(this, TimeoutController.prototype)\n  }\n\n  /**\n   * Aborts the controller and clears the timer\n   */\n  abort () {\n    this._timer.clear()\n    return super.abort()\n  }\n\n  /**\n   * Clears the timer\n   */\n  clear () {\n    this._timer.clear()\n  }\n\n  /**\n   * Resets the timer\n   */\n  reset () {\n    this._timer.clear()\n    this._timer = retimer(() => this.abort(), this._ms)\n  }\n}\n\nmodule.exports = {\n  TimeoutController\n}\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,eAAA,GAAAC,OAAA,0FAAAC,OAAA;AAAA,IAAAC,YAAA,GAAAF,OAAA,uFAAAC,OAAA;AAAA,IAAAE,sBAAA,GAAAH,OAAA,iGAAAC,OAAA;AAAA,IAAAG,IAAA,GAAAJ,OAAA,+EAAAC,OAAA;AAAA,IAAAI,eAAA,GAAAL,OAAA,0FAAAC,OAAA;AAAA,IAAAK,SAAA,GAAAN,OAAA,oFAAAC,OAAA;AAAA,IAAAM,YAAA,GAAAP,OAAA,uFAAAC,OAAA;AAEZ,IAAQO,eAAe,GAAKC,UAAU,CAA9BD,eAAe;;AAEvB;AACA,IAAME,OAAO,GAAGV,OAAO,CAAC,SAAS,CAAC;AAAA,IAE5BW,iBAAiB,0BAAAC,gBAAA;EAAAN,SAAA,CAAAK,iBAAA,EAAAC,gBAAA;EAAA,IAAAC,MAAA,GAAAN,YAAA,CAAAI,iBAAA;EACrB;AACF;AACA;AACA;EACE,SAAAA,kBAAaG,EAAE,EAAE;IAAA,IAAAC,KAAA;IAAAhB,eAAA,OAAAY,iBAAA;IACfI,KAAA,GAAAF,MAAA,CAAAG,IAAA;IACAD,KAAA,CAAKE,GAAG,GAAGH,EAAE;IACbC,KAAA,CAAKG,MAAM,GAAGR,OAAO,CAAC;MAAA,OAAMK,KAAA,CAAKI,KAAK,CAAC,CAAC;IAAA,GAAEL,EAAE,CAAC;IAC7C;IACAM,MAAM,CAACC,cAAc,CAAAlB,sBAAA,CAAAY,KAAA,GAAOJ,iBAAiB,CAACW,SAAS,CAAC;IAAA,OAAAP,KAAA;EAC1D;;EAEA;AACF;AACA;EAFEb,YAAA,CAAAS,iBAAA;IAAAY,GAAA;IAAAC,KAAA,EAGA,SAAAL,MAAA,EAAS;MACP,IAAI,CAACD,MAAM,CAACO,KAAK,CAAC,CAAC;MACnB,OAAArB,IAAA,CAAAC,eAAA,CAAAM,iBAAA,CAAAW,SAAA,kBAAAN,IAAA;IACF;;IAEA;AACF;AACA;EAFE;IAAAO,GAAA;IAAAC,KAAA,EAGA,SAAAC,MAAA,EAAS;MACP,IAAI,CAACP,MAAM,CAACO,KAAK,CAAC,CAAC;IACrB;;IAEA;AACF;AACA;EAFE;IAAAF,GAAA;IAAAC,KAAA,EAGA,SAAAE,MAAA,EAAS;MAAA,IAAAC,MAAA;MACP,IAAI,CAACT,MAAM,CAACO,KAAK,CAAC,CAAC;MACnB,IAAI,CAACP,MAAM,GAAGR,OAAO,CAAC;QAAA,OAAMiB,MAAI,CAACR,KAAK,CAAC,CAAC;MAAA,GAAE,IAAI,CAACF,GAAG,CAAC;IACrD;EAAC;EAAA,OAAAN,iBAAA;AAAA,EAlC6BH,eAAe;AAqC/CoB,MAAM,CAACC,OAAO,GAAG;EACflB,iBAAiB,EAAjBA;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}