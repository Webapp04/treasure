{"ast":null,"code":"import _defineProperty from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import ReactDOM from\"react-dom\";import classNames from\"classnames\";import\"./style.scss\";import Icon from\"../Icon/icon\";import useWindowDimensions from\"hooks/useWidowDimensions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var _document;var custom=_ref.custom,withoutBlur=_ref.withoutBlur,isModalOpen=_ref.isModalOpen,handleClose=_ref.handleClose,children=_ref.children,withCrossIcon=_ref.withCrossIcon,isDark=_ref.isDark,isFullModalBg=_ref.isFullModalBg,className=_ref.className,bgImg=_ref.bgImg;var ref=useRef(null);var _useState=useState(isModalOpen?isModalOpen:false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var windowParams=useWindowDimensions();var isMobile=(windowParams===null||windowParams===void 0?void 0:windowParams.width)<=640;var onClose=function onClose(){setIsOpen(false);handleClose();};useEffect(function(){isModalOpen&&setIsOpen(isModalOpen);},[isModalOpen]);useEffect(function(){var handleClickOutside=function handleClickOutside(event){var _ref$current;if(!(ref!==null&&ref!==void 0&&(_ref$current=ref.current)!==null&&_ref$current!==void 0&&_ref$current.contains(event.target))){setIsOpen(false);handleClose();}};document.addEventListener(\"mousedown\",handleClickOutside);},[ref]);return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(_Fragment,{children:isOpen&&/*#__PURE__*/_jsx(\"div\",{className:classNames(\"modal__overview\",{blurredModal:!withoutBlur}),children:/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:classNames(\"\",_defineProperty({\"modal__overview--wrapper\":!isMobile,\"modal__overview--wrapper--mobile\":isMobile},className,Boolean(className))),style:{backgroundImage:bgImg?\"url(\".concat(bgImg,\")\"):\"none\"},children:[withCrossIcon&&!isMobile&&/*#__PURE__*/_jsxs(\"div\",{onClick:onClose,className:\"modal__exit \".concat(isFullModalBg?\"modal__exit--noPadding\":\"\"),children:[/*#__PURE__*/_jsx(Icon,{iconName:isDark?\"exitDark\":\"exitLight\",className:\"modal__exit--line\"}),/*#__PURE__*/_jsx(Icon,{iconName:\"close\",className:\"modal__exit--bg\"})]}),isMobile&&!custom&&/*#__PURE__*/_jsx(\"div\",{className:\"BarAccordian\",children:/*#__PURE__*/_jsx(\"div\",{})}),children]})})}),(_document=document)===null||_document===void 0?void 0:_document.getElementById(\"modal-root\"));};export default Modal;","map":{"version":3,"names":["React","useEffect","useRef","useState","ReactDOM","classNames","Icon","useWindowDimensions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Modal","_ref","_document","custom","withoutBlur","isModalOpen","handleClose","children","withCrossIcon","isDark","isFullModalBg","className","bgImg","ref","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","windowParams","isMobile","width","onClose","handleClickOutside","event","_ref$current","current","contains","target","document","addEventListener","createPortal","blurredModal","_defineProperty","Boolean","style","backgroundImage","concat","onClick","iconName","getElementById"],"sources":["/Users/apple/Documents/treasure/src/storybook/atom/Modal/modal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport classNames from \"classnames\";\nimport \"./style.scss\";\nimport Icon from \"../Icon/icon\";\nimport useWindowDimensions from \"hooks/useWidowDimensions\";\n\nconst Modal = ({\n  custom,\n  withoutBlur,\n  isModalOpen,\n  handleClose,\n  children,\n  withCrossIcon,\n  isDark,\n  isFullModalBg,\n  className,\n  bgImg,\n}) => {\n  const ref = useRef(null);\n  const [isOpen, setIsOpen] = useState(isModalOpen ? isModalOpen : false);\n  const windowParams = useWindowDimensions();\n  const isMobile = windowParams?.width <= 640;\n\n  const onClose = () => {\n    setIsOpen(false);\n    handleClose();\n  };\n\n  useEffect(() => {\n    isModalOpen && setIsOpen(isModalOpen);\n  }, [isModalOpen]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (!ref?.current?.contains(event.target)) {\n        setIsOpen(false);\n        handleClose();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n  }, [ref]);\n\n  return ReactDOM.createPortal(\n    <>\n      {/* <button onClick={() => setIsOpen(!isOpen)}>Open</button> */}\n      {isOpen && (\n        <div\n          className={classNames(\"modal__overview\", {\n            blurredModal: !withoutBlur,\n          })}\n        >\n          <div\n            ref={ref}\n            className={classNames(\"\", {\n              \"modal__overview--wrapper\": !isMobile,\n              \"modal__overview--wrapper--mobile\": isMobile,\n              [className]: Boolean(className),\n            })}\n            style={{\n              backgroundImage: bgImg ? `url(${bgImg})` : \"none\",\n            }}\n          >\n            {withCrossIcon && !isMobile && (\n              <div\n                onClick={onClose}\n                className={`modal__exit ${\n                  isFullModalBg ? \"modal__exit--noPadding\" : \"\"\n                }`}\n              >\n                <Icon\n                  iconName={isDark ? \"exitDark\" : \"exitLight\"}\n                  className=\"modal__exit--line\"\n                />\n                <Icon iconName={\"close\"} className=\"modal__exit--bg\" />\n              </div>\n            )}\n            {isMobile && !custom && (\n              <div className=\"BarAccordian\">\n                <div></div>\n              </div>\n            )}\n            {children}\n          </div>\n        </div>\n      )}\n    </>,\n    document?.getElementById(\"modal-root\")\n  );\n};\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}