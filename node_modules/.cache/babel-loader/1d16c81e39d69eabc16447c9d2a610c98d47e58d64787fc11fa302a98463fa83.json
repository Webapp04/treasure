{"ast":null,"code":"'use strict';\n\nvar nextTick = require('./next-tick');\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function callback(err, res) {\n        if (err) reject(err);else resolve(res);\n      };\n    });\n    callback[symbol !== undefined ? symbol : 'promise'] = promise;\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function');\n  }\n  return callback;\n};\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise;\n  promise.then(function (res) {\n    nextTick(function () {\n      return callback(null, res);\n    });\n  }).catch(function (err) {\n    nextTick(function () {\n      return callback(err);\n    });\n  });\n};","map":{"version":3,"names":["nextTick","require","exports","fromCallback","callback","symbol","undefined","promise","Promise","resolve","reject","err","res","TypeError","fromPromise","then","catch"],"sources":["/Users/apple/Documents/treasure/node_modules/catering/index.js"],"sourcesContent":["'use strict'\n\nvar nextTick = require('./next-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { nextTick(() => callback(null, res)) })\n    .catch(function (err) { nextTick(() => callback(err)) })\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,QAAQ,GAAGC,OAAO,CAAC,aAAa,CAAC;AAErCC,OAAO,CAACC,YAAY,GAAG,UAAUC,QAAQ,EAAEC,MAAM,EAAE;EACjD,IAAID,QAAQ,KAAKE,SAAS,EAAE;IAC1B,IAAIC,OAAO,GAAG,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;MACnDN,QAAQ,GAAG,SAAAA,SAAUO,GAAG,EAAEC,GAAG,EAAE;QAC7B,IAAID,GAAG,EAAED,MAAM,CAACC,GAAG,CAAC,MACfF,OAAO,CAACG,GAAG,CAAC;MACnB,CAAC;IACH,CAAC,CAAC;IAEFR,QAAQ,CAACC,MAAM,KAAKC,SAAS,GAAGD,MAAM,GAAG,SAAS,CAAC,GAAGE,OAAO;EAC/D,CAAC,MAAM,IAAI,OAAOH,QAAQ,KAAK,UAAU,EAAE;IACzC,MAAM,IAAIS,SAAS,CAAC,6BAA6B,CAAC;EACpD;EAEA,OAAOT,QAAQ;AACjB,CAAC;AAEDF,OAAO,CAACY,WAAW,GAAG,UAAUP,OAAO,EAAEH,QAAQ,EAAE;EACjD,IAAIA,QAAQ,KAAKE,SAAS,EAAE,OAAOC,OAAO;EAE1CA,OAAO,CACJQ,IAAI,CAAC,UAAUH,GAAG,EAAE;IAAEZ,QAAQ,CAAC;MAAA,OAAMI,QAAQ,CAAC,IAAI,EAAEQ,GAAG,CAAC;IAAA,EAAC;EAAC,CAAC,CAAC,CAC5DI,KAAK,CAAC,UAAUL,GAAG,EAAE;IAAEX,QAAQ,CAAC;MAAA,OAAMI,QAAQ,CAACO,GAAG,CAAC;IAAA,EAAC;EAAC,CAAC,CAAC;AAC5D,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}