{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContractNFKeyWithSigner}from\"hooks/blockchain/useHandleContracts\";import{hexToNumber}from\"utils/blockchain\";export default function useGetTotalSupply(){var handleContractNFKeyWithSigner=useContractNFKeyWithSigner();var getTotalSupply=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var count,contractNFKeyWithSigner,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:count=_args.length>0&&_args[0]!==undefined?_args[0]:3;_context.next=3;return handleContractNFKeyWithSigner;case 3:contractNFKeyWithSigner=_context.sent;return _context.abrupt(\"return\",contractNFKeyWithSigner.totalSupply().then(function(res){return hexToNumber(res===null||res===void 0?void 0:res._hex);}).catch(function(){return count?getTotalSupply(count-1):null;}));case 5:case\"end\":return _context.stop();}},_callee);}));return function getTotalSupply(){return _ref.apply(this,arguments);};}();return{getTotalSupply:getTotalSupply};}","map":{"version":3,"names":["useContractNFKeyWithSigner","hexToNumber","useGetTotalSupply","handleContractNFKeyWithSigner","getTotalSupply","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","count","contractNFKeyWithSigner","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","sent","abrupt","totalSupply","then","res","_hex","catch","stop","apply"],"sources":["/Users/apple/Documents/treasure/src/hooks/nft/useGetTotalSupply.js"],"sourcesContent":["import { useContractNFKeyWithSigner } from \"hooks/blockchain/useHandleContracts\";\nimport { hexToNumber } from \"utils/blockchain\";\n\nexport default function useGetTotalSupply() {\n  const handleContractNFKeyWithSigner = useContractNFKeyWithSigner();\n  const getTotalSupply = async (count = 3) => {\n    const contractNFKeyWithSigner = await handleContractNFKeyWithSigner;\n    return contractNFKeyWithSigner\n      .totalSupply()\n      .then((res) => hexToNumber(res?._hex))\n      .catch(() => (count ? getTotalSupply(count - 1) : null));\n  };\n  return { getTotalSupply };\n}\n"],"mappings":"0PAAA,OAASA,0BAA0B,KAAQ,qCAAqC,CAChF,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,cAAe,SAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC1C,GAAM,CAAAC,6BAA6B,CAAGH,0BAA0B,CAAC,CAAC,CAClE,GAAM,CAAAI,cAAc,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,KAAA,CAAAC,uBAAA,CAAAC,KAAA,CAAAC,SAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAOR,KAAK,CAAAE,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,CAAC,CAAAI,QAAA,CAAAE,IAAA,SACC,CAAAf,6BAA6B,QAA7DQ,uBAAuB,CAAAK,QAAA,CAAAK,IAAA,QAAAL,QAAA,CAAAM,MAAA,UACtBX,uBAAuB,CAC3BY,WAAW,CAAC,CAAC,CACbC,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAxB,WAAW,CAACwB,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEC,IAAI,CAAC,GAAC,CACrCC,KAAK,CAAC,iBAAO,CAAAjB,KAAK,CAAGN,cAAc,CAACM,KAAK,CAAG,CAAC,CAAC,CAAG,IAAI,EAAC,CAAC,0BAAAM,QAAA,CAAAY,IAAA,MAAAnB,OAAA,GAC3D,kBANK,CAAAL,cAAcA,CAAA,SAAAC,IAAA,CAAAwB,KAAA,MAAAhB,SAAA,OAMnB,CACD,MAAO,CAAET,cAAc,CAAdA,cAAe,CAAC,CAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}