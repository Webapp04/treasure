{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/treasure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import classNames from\"classnames\";import\"./style.scss\";import Icon from\"../Icon/icon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleSelect=function SingleSelect(_ref){var _ref$options=_ref.options,options=_ref$options===void 0?[]:_ref$options,value=_ref.value,placeholder=_ref.placeholder,onSelect=_ref.onSelect;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var ref=useRef(null);useEffect(function(){setSelected(value||(options===null||options===void 0?void 0:options[0]));},[value,options]);useEffect(function(){var handleClickOutside=function handleClickOutside(event){var _ref$current;if(!(ref!==null&&ref!==void 0&&(_ref$current=ref.current)!==null&&_ref$current!==void 0&&_ref$current.contains(event.target))){setIsOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);},[ref]);var handleSelect=function handleSelect(item){setSelected(item);onSelect(item);setIsOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:classNames(\"dropdown\"),ref:ref,children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setIsOpen(!isOpen);},className:classNames(\"dropdown__active\"),children:[/*#__PURE__*/_jsx(\"label\",{children:selected?selected===null||selected===void 0?void 0:selected.label:placeholder}),/*#__PURE__*/_jsx(Icon,{iconName:\"arrow\",className:classNames(\"\",{opened:Boolean(isOpen)})})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:classNames(\"dropdown__list\"),children:(options===null||options===void 0?void 0:options.length)>0?options===null||options===void 0?void 0:options.map(function(item,index){return/*#__PURE__*/_jsx(\"p\",{className:classNames(\"dropdown__list--item\"),onClick:function onClick(){return handleSelect(item);},children:item===null||item===void 0?void 0:item.label},index);}):/*#__PURE__*/_jsx(\"p\",{className:classNames(\"dropdown__list--item\"),children:\"No Options Found\"})})]});};export default SingleSelect;","map":{"version":3,"names":["React","useEffect","useRef","useState","classNames","Icon","jsx","_jsx","jsxs","_jsxs","SingleSelect","_ref","_ref$options","options","value","placeholder","onSelect","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","_useState3","_useState4","selected","setSelected","ref","handleClickOutside","event","_ref$current","current","contains","target","document","addEventListener","handleSelect","item","className","children","onClick","label","iconName","opened","Boolean","length","map","index"],"sources":["/Users/apple/Documents/treasure/src/storybook/atom/SingleSelect/singleSelect.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport \"./style.scss\";\nimport Icon from \"../Icon/icon\";\n\nconst SingleSelect = ({ options = [], value, placeholder, onSelect }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selected, setSelected] = useState();\n\n  const ref = useRef(null);\n\n  useEffect(() => {\n    setSelected(value || options?.[0]);\n  }, [value, options]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (!ref?.current?.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n  }, [ref]);\n\n  const handleSelect = (item) => {\n    setSelected(item);\n    onSelect(item);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={classNames(\"dropdown\")} ref={ref}>\n      <div\n        onClick={() => setIsOpen(!isOpen)}\n        className={classNames(\"dropdown__active\")}\n      >\n        <label>{selected ? selected?.label : placeholder}</label>\n        <Icon\n          iconName={\"arrow\"}\n          className={classNames(\"\", {\n            opened: Boolean(isOpen),\n          })}\n        />\n      </div>\n      {isOpen && (\n        <div className={classNames(\"dropdown__list\")}>\n          {options?.length > 0 ? (\n            options?.map((item, index) => (\n              <p\n                key={index}\n                className={classNames(\"dropdown__list--item\")}\n                onClick={() => handleSelect(item)}\n              >\n                {item?.label}\n              </p>\n            ))\n          ) : (\n            <p className={classNames(\"dropdown__list--item\")}>\n              No Options Found\n            </p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SingleSelect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}